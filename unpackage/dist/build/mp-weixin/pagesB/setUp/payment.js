(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/setUp/payment"],{"01f1":function(e,t,n){"use strict";(function(e){n("a1f9");o(n("66fd"));var t=o(n("dcdf"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"102f":function(e,t,n){"use strict";var o=n("988e"),a=n.n(o);a.a},"988e":function(e,t,n){},ac43:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n("63c9"),n("b206");var o=function(){Promise.all([n.e("common/vendor"),n.e("components/header")]).then(function(){return resolve(n("6c1c"))}.bind(null,n)).catch(n.oe)},a={data:function(){return{title:"设置支付密码",display:!0,count:"",timer:null,code:"",onepay:"",twopay:"",codeone:"",user_phone:"",access_id:"",guan:!1,guan_word:"",fastTap:!0}},mounted:function(t){var n=this;setTimeout((function(){console.log("=====>"),console.log(n.$refs),n.$refs.lktAuthorizeComp&&n.$refs.lktAuthorizeComp.handleAfterAuth(n,"../../pages/login/login?landing_code=1",(function(){if(n.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):n.$store.state.access_id,n.user_phone=e.getStorageSync("user_phone")?e.getStorageSync("user_phone"):n.$store.state.user_phone,!n.user_phone)return e.showToast({title:"请先绑定手机号码！",duration:1e3,icon:"none"}),void e.navigateTo({url:"changePhone"})}))}),100)},methods:{changeLoginStatus:function(){var t=this;t.access_id=e.getStorageSync("access_id")},_verif:function(){var t=this,n={module:"app",action:"user",app:"secret_key",phone:this.user_phone,message_type:0,message_type1:5};if(console.log(n),this.user_phone){if(!this.fastTap)return;this.fastTap=!1,e.request({data:n,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(n){t.fastTap=!0;var o=n.data,a=o.code,s=o.message;if(200!=a)e.showToast({title:s,duration:1e3,icon:"none"});else if(200==a){t._time();var i=60,c=i;console.log(i,c);var r=setInterval((function(){c>0&&c<=i?c--:(clearInterval(r),r=null,t.code="")}),1e3)}console.log(n)},error:function(e){console.log(e),t.fastTap=!0}})}else e.showToast({title:"未获取到正确的手机号码！",duration:1e3,icon:"none"})},_time:function(){var e=this,t=60;this.timer||(this.display=!1,this.count=t,this.timer=setInterval((function(){e.count>0&&e.count<=t?e.count--:(e.display=!0,clearInterval(e.timer),e.timer=null)}),1e3))},_blur:function(t){console.log(t);var n=this,o=n.onepay;2==t&&(o=n.twopay);var a=/^[0-9]+$/,s=new RegExp(a);return 6!=o.length?(e.showToast({title:"请输入6位支付密码！",duration:1500,icon:"none"}),!1):s.test(o)?void 0:(1==t?n.onepay="":2==t&&(n.twopay=""),e.showToast({title:"支付密码全部由数字组成！",duration:1500,icon:"none"}),!1)},_sub:function(){var t=this;console.log(this.codeone);var n=/^[0-9]+$/,o=new RegExp(n);if(!o.test(t.onepay)||!o.test(t.twopay))return e.showToast({title:"支付密码全部由数字组成！",duration:1500,icon:"none"}),!1;if(this.fastTap)if(this.fastTap=!1,""!=this.onepay&&this.onepay!=this.twopay)e.showToast({title:"两次密码输入不一致！",duration:1e3,icon:"none",success:function(e){t.fastTap=!0}});else if(6!=this.onepay.length&&6!=this.onepay.length)e.showToast({title:"请设置六位数密码！",duration:1e3,icon:"none",success:function(e){t.fastTap=!0}});else if(""!=this.onepay&&this.onepay===this.twopay){var a={module:"app",action:"user",app:"set_payment_password",access_id:this.access_id,phone:this.user_phone,password:this.twopay,keyCode:this.codeone};console.log(a),e.request({data:a,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(n){console.log(n);var o=n.data,a=o.code,s=o.message;console.log(a,s),200==a?(e.showToast({title:"设置成功！",duration:1500,icon:"none"}),setTimeout((function(){t.fastTap=!0,e.navigateBack({delta:1})}),1500)):e.showToast({title:s,duration:1e3,icon:"none",success:function(e){t.fastTap=!0}})},error:function(e){console.log(e),t.fastTap=!0}})}else this.fastTap=!0}},components:{Heads:o}};t.default=a}).call(this,n("543d")["default"])},b403:function(e,t,n){"use strict";n.r(t);var o=n("ac43"),a=n.n(o);for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=a.a},d39f:function(e,t,n){"use strict";var o,a=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}))},dcdf:function(e,t,n){"use strict";n.r(t);var o=n("d39f"),a=n("b403");for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);n("102f");var i,c=n("f0c5"),r=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,"efcee76a",null,!1,o["a"],i);t["default"]=r.exports}},[["01f1","common/runtime","common/vendor"]]]);