(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/myWallet/putForward"],{"10d7":function(e,n,t){"use strict";(function(e){t("a1f9");o(t("66fd"));var n=o(t("9ac7"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"17ee":function(e,n,t){},"1f31":function(e,n,t){"use strict";var o=t("17ee"),a=t.n(o);a.a},"43bd":function(e,n,t){"use strict";t.r(n);var o=t("6d17"),a=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,(function(){return o[e]}))}(i);n["default"]=a.a},"6d17":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("63c9"),a=(t("2f62"),t("b206"),function(){Promise.all([t.e("common/vendor"),t.e("components/header")]).then(function(){return resolve(t("6c1c"))}.bind(null,t)).catch(t.oe)}),i={data:function(){return{pshd:"",type:"",title:"提现申请",put_mon:"",bank_number:"",bank_name:"",user_name:"",phone:"",input_code:"",display:!0,count:"",timer:"",code:"",one_code:"",max_amount:"",min_amount:"",bank_information:"",mobile:"",oldPhone:"",access_id:"",allComplete:!1,fastTap:!0,shop_id:"",money:"",warnIng:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/warnIng.png",service_charge:""}},onLoad:function(n){this.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):this.$store.state.access_id,this.shop_id=e.getStorageSync("shop_id")?e.getStorageSync("shop_id"):this.$store.state.shop_id,this.type=n.type,this._axios()},methods:{changeLoginStatus:function(){var e=this;e.access_id=e.$store.state.access_id,e._axios()},_axios:function(){var n=this,t={module:"app",action:"user",app:"into_withdrawals",access_id:this.access_id};"store"==this.type&&(t.shop_id=this.$store.state.shop_id),e.request({data:t,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){if(200==t.data.code){var o=t.data.data,a=o.bank_information,i=(o.pshd,o.max_amount),s=o.min_amount,r=o.money,c=o.mobile,u=o.service_charge;n.max_amount=i,n.min_amount=s,n.bank_information=a,n.mobile=c,n.bank_number=n.bank_information.Bank_card_number?n.bank_information.Bank_card_number:"",n.bank_name=n.bank_information.Bank_name?n.bank_information.Bank_name:"",n.user_name=n.bank_information.Cardholder?n.bank_information.Cardholder:"",n.phone=n.mobile?n.mobile:"",n.pshd="当前余额为"+r+"元",n.money=r,n.service_charge=u}else 115==t.data.code?n.$refs.lktAuthorizeComp.handleAfterAuth(n,"../login/login?landing_code=1"):e.showToast({title:t.data.message,duration:1500,icon:"none"})}})},back:function(){this.myforward(""),this.mybacks(""),e.navigateBack({delta:1})},_put:function(){var n=Number(this.max_amount);Number(this.put_mon);console.log(n),console.log(this.min_amount),console.log(this.max_amount),0==this.money?e.showToast({title:"您暂时没有可提现金额",duration:1e3,icon:"none"}):this.money>this.max_amount?this.put_mon=this.max_amount:this.put_mon=this.money},_money:function(){var n=Number(this.put_mon),t=Number(this.min_amount);console.log(t),console.log("金额判断="+n),n<t?(n=0,this.put_mon=n.toFixed(2),e.showToast({title:"提现金额需大于".concat(t,"元,请重新输入!"),duration:1e3,icon:"none"})):n>this.max_amount&&(n=0,this.put_mon=n.toFixed(2),e.showToast({title:"提现金额不能大于总金额，请重新输入!",duration:1e3,icon:"none"})),this.put_mon=n.toFixed(2),console.log(this.put_mon>0)},_bank:function(){var n=this,t=/^([1-9]{1})(\d{5})$/;if(t.test(n.bank_number)){var o={module:"app",action:"user",app:"Verification",Bank_name:n.bank_name,Bank_card_number:n.bank_number};e.request({data:o,url:n.$store.state.url,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(t);var o=t.data,a=o.code,i=o.message;console.log(a,i),200!=a?(n.bank_number="",e.showToast({title:"银行卡号输入错误，请重新输入！",duration:1e3,icon:"none"})):n.bank_name=t.data.Bank_name}})}""==this.bank_number&&(this.bank_name="")},_bank_p:function(){var n=this,t=/^[1-9]{1}\d{15}|\d{18}$/;if(t.test(Number.parseInt(this.bank_number))){if(this.bank_name){var o={module:"app",action:"user",app:"Verification",Bank_name:this.bank_name,Bank_card_number:this.bank_number};e.request({data:o,url:n.$store.state.url,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(t);var o=t.data,a=o.code,i=o.message;console.log(a,i),200!=a?(n.bank_number="",e.showToast({title:"银行卡号输入错误，请重新输入！",duration:1e3,icon:"none"})):n.bank_name=t.data.Bank_name}})}}else e.showToast({title:"请输入合法的银行卡号！",duration:1e3,icon:"none"})},_usname:function(){var n=this,t=/^[\u4e00-\u9fa5]{2,8}$/;t.test(n.user_name)||(n.user_name="",e.showToast({title:"请输入合法的姓名！",duration:1e3,icon:"none"}))},_verif:function(){if(this.fastTap){this.fastTap=!1,this._telephone(this.phone);var n=this,t={module:"app",action:"user",app:"secret_key",phone:n.phone,message_type:0,message_type1:6};n.phone?e.request({data:t,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){n.fastTap=!0;var o=t.data,a=o.code,i=o.message;200!=a?e.showToast({title:i,duration:1e3,icon:"none"}):200==a&&(n._time(),n.one_code,n.oldPhone=n.phone),console.log(t)},error:function(e){n.fastTap=!0}}):(n.fastTap=!0,e.showToast({title:"请输入正确的手机号码！",duration:1e3,icon:"none"}))}},_time:function(){var e=this,n=60;this.timer||(this.display=!1,this.count=n,this.timer=setInterval((function(){e.count>0&&e.count<=n?e.count--:(e.display=!0,clearInterval(e.timer),e.timer=null)}),1e3))},_telephone:function(e){this.one_code=(0,o.telephone)(e)},_sumber:function(){if(this.fastTap){this.fastTap=!1,console.log(this);var n=this,t=this;if(this.put_mon&&this.bank_number&&this.user_name&&1==this.one_code&&6==this.input_code.length&&this.bank_name&&this.oldPhone==this.phone){var o={module:"app",action:"user",app:"withdrawals",access_id:n.access_id,amoney:n.put_mon,Bank_name:n.bank_name,Bank_card_number:n.bank_number,Cardholder:n.user_name,mobile:n.phone,keyCode:this.input_code};"store"==this.type&&(o.shop_id=this.shop_id),e.request({data:o,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(o){console.log(o);var a=o.data;200==a.code?(e.showToast({title:"提现申请成功！",duration:1e3,icon:"none"}),setTimeout(function(){t.fastTap=!0,e.redirectTo({url:"rechargeSuccess?id_name="+n.bank_name+"&id_catd="+n.bank_number+"&id_monsy="+n.put_mon+"&store=true"})}.bind(n),1e3)):200!=a.code&&(t.fastTap=!0,e.showToast({title:o.data.message,duration:1e3,icon:"none"}))},error:function(e){t.fastTap=!0}})}else 1!=this.one_code?(e.showToast({title:"请先获取验证码！",duration:1e3,icon:"none"}),t.fastTap=!0):this.oldPhone!=this.phone?(e.showToast({title:"手机号码输入不一致,请确认后提交！",duration:1e3,icon:"none"}),t.fastTap=!0):setTimeout((function(){e.showToast({title:"请填写完整信息！",duration:1e3,icon:"none"}),t.fastTap=!0}),1500)}}},components:{heads:a}};n.default=i}).call(this,t("543d")["default"])},"9ac7":function(e,n,t){"use strict";t.r(n);var o=t("d510"),a=t("43bd");for(var i in a)"default"!==i&&function(e){t.d(n,e,(function(){return a[e]}))}(i);t("1f31");var s,r=t("f0c5"),c=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"4e6a19be",null,!1,o["a"],s);n["default"]=c.exports},d510:function(e,n,t){"use strict";var o,a=function(){var e=this,n=e.$createElement;e._self._c},i=[];t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return o}))}},[["10d7","common/runtime","common/vendor"]]]);