(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/store/store","components/uni-load-more"],{"3e95":function(e,t,o){},"462a":function(e,t,o){"use strict";(function(e){o("a1f9");i(o("66fd"));var t=i(o("c781"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},7534:function(e,t,o){"use strict";var i=o("c59d"),a=o.n(i);a.a},"80ec":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o("b206"),a(o("ef75"));var i=o("b8aa");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var n=function(){Promise.all([o.e("common/vendor"),o.e("components/header")]).then(function(){return resolve(o("6c1c"))}.bind(null,o)).catch(o.oe)},r=function(){o.e("components/lktauthorize").then(function(){return resolve(o("cc2e"))}.bind(null,o)).catch(o.oe)},c={data:function(){var e;return e={load:!0,shop_list:[],store_bottom_flag:!1,shareHref:"",tabThree:1,saves:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/save.png",share_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"/images/icon/share.png",back2:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",disc:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/2222x.png",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",title_index:0,shopImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/shopping2x.png",wx_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/wechat.png",erm_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/ewmShare.png",scImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/sc2x.png",close:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/close_bb.png",live:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/live.png",replay:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/replay.png",access_id:"",title:"店铺主页",collStatus:!0,fastTap:!0,shop_id:1,list:"",proList:"",page:1,loadingType:0,shop_name:"",shop_logo:"",collection_num:"",collection_status:"",quantity_on_sale:"",quantity_sold:""},s(e,"shareHref",""),s(e,"shareHref2",""),s(e,"shareContent","一起来用雪地吧！"),s(e,"sharehrefTitle","一起来用雪地吧!"),s(e,"shareImg",""),s(e,"allPro",""),s(e,"shareDiv",!1),s(e,"shareMask",!1),s(e,"saveEWM",!1),s(e,"ewmImg",""),s(e,"is_share",!1),s(e,"shareWay",[]),s(e,"storeTop_content_img","https://xiaochengxu.laiketui.com/V3/images/icon1/storeBottom.png"),s(e,"liveImg",""),s(e,"liveTitle",""),s(e,"showLive",!1),s(e,"liveUrl",""),s(e,"liveStatus",!1),e},onLoad:function(t){this.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):this.$store.state.access_id,this.shop_id=t.shop_id,this.is_share=t.is_share;var o=e.getStorageSync("h5_url");this.shareHref=o+"/pagesA/store/store?is_share=true&shop_id="+this.shop_id,this.shareHref2="/pagesA/store/store?is_share=true&shop_id="+this.shop_id},onShow:function(){this.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):this.$store.state.access_id,this.axios(),this.loadingType=0,this.page=1},computed:{halfWidth:function(){var t=e.getStorageSync("data_height")?e.getStorageSync("data_height"):this.$store.state.data_height,o=parseInt(t);return o+"px"},width1:function(){var t;return t=150*this.list.length,e.upx2px(t)+"px"}},components:{heads:n,lktauthorize:r},onShareAppMessage:function(e){return console.log("----转发----"+this.sharehrefTitle),this.shareMask=!1,e.from,{title:this.sharehrefTitle,path:this.shareHref2,imageUrl:this.shareImg,bgImgUrl:this.shareImg,success:function(e){console.log("成功",e)}}},onReachBottom:function(){var t=this;if(console.log("me.loadingType:"+t.loadingType),console.log("me.tabThree:"+t.tabThree),0==t.loadingType&&(t.loadingType=1,3!=t.tabThree)){console.log("page:"+t.page);var o={module:"app",action:"mch",m:"store_homepage_load",page:this.page,access_id:t.access_id,shop_id:t.shop_id,type:this.tabThree};this.list.length>0&&e.request({data:o,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){t.page+=1,e.data.list.length>0?(t.list=t.list.concat(e.data.list),t.loadingType=0):(t.loadingType=2,console.log("after..me.loadingType:"+t.loadingType))},error:function(e){console.log(e)}})}},methods:{getLiveRoomImg:function(e){var t=this,o={module:"app",action:"liveBroadcast",app:"getLiveList",start:this.start,limit:this.limit},i=this.$req.post({data:o});if(console.log(i),200==i.code){i.list.room_info.filter((function(o){o.roomid==e&&(t.liveImg=o.cover_img,t.liveTitle=o.name,101==o.live_status?(t.liveStatus=!0,t.liveUrl="plugin-private://wx2b03c6e691cd7370/pages/live-player-plugin?room_id=".concat(roomId)):103==o.live_status?t.liveStatus=!1:t.showLive=!0)}));0==this.tempList.length&&(this.showLive=!0)}},_downEWM:function(){var t=this;e.getImageInfo({src:t.ewmImg,success:function(t){console.log(t.path),e.saveImageToPhotosAlbum({filePath:t.path,success:function(){e.showToast({title:"保存图片成功",duration:1500,icon:"none"})}})},fail:function(){e.showToast({title:"保存图片失败",duration:1500,icon:"none"})}})},_closeAllMask:function(){this.shareMask=!1,this.saveEWM=!1},_shareDiv:function(){this.shareDiv=!1},_invite:function(e){var t=this;(0,i.LaiKeTuiInvite)(e,t)},showSaveEWM:function(e){var t=this;t.shareMask=!1,(0,i.LaiKeTuiShopEWM)(e,t)},_share:function(){var e=this;e.$refs.lktAuthorizeComp.handleAfterAuth(e,"../../pages/login/login?landing_code=1",(function(){}))},_back:function(){e.navigateBack({delta:1})},changeLoginStatus:function(){var e=this;e.access_id=e.$store.state.access_id,e.axios()},toGoods:function(t,o){var i=this;e.navigateTo({url:"../../pages/goods/goods?cid="+o+"&name="+t+"&shop_id="+i.shop_id})},changeTab:function(e){this.tabThree=e,this.page=1,this.loadingType=0,this.axios()},_discover:function(t){this.$store.state.pro_id=t,e.navigateTo({url:"../../pages/collection/discover?pro_id="+t})},_goods:function(t){this.$store.state.pro_id=t,e.navigateTo({url:"../../pages/goods/goodsDetailed?pro_id="+t})},showShareMask:function(t){var o=this;o.is_shop=!0,o.shop_id=t,o.sharehrefTitle=o.shop_list.shop_name,o.shareImg=o.shop_list.shop_logo,o.shareContent=o.shop_list.shop_name;var i=e.getStorageSync("url");i=i.split("index")[0],o.shareHref=i+"H5/#/pagesA/store/store?is_share=true&shop_id="+t,o.shareHref2="/pagesA/store/store?is_share=true&shop_id="+t,o.$refs.lktAuthorizeComp.handleAfterAuth(o,"../login/login?landing_code=1",(function(){o.shareMask=!0}))},closeShareMask:function(){this.shareMask=!1,this.overflow="scroll"},_collStore:function(){var t=this;t.fastTap&&(t.fastTap=!1,t.LaiKeTuiCommon.lktDelaySetVal(t),t.$refs.lktAuthorizeComp.handleAfterAuth(t,"../../pages/login/login?landing_code=1",(function(){var o={module:"app",action:"mch",m:"collection_shop",access_id:t.access_id,shop_id:t.shop_id};e.request({url:e.getStorageSync("url"),data:o,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(o){200==o.data.code?(e.showToast({title:o.data.message,duration:1500,icon:"none"}),setTimeout((function(){t.fastTap=!0,t.axios(),t.title_index=0,t.proList=t.allPro[0]}),0)):e.showToast({title:o.data.message,duration:1500,icon:"none"})},error:function(e){t.fastTap=!0}})})))},axios:function(){e.showLoading({title:"加载中...",mask:!0});var t=this;e.request({data:{module:"app",action:"mch",m:"store_homepage",access_id:t.access_id,shop_id:t.shop_id,type:this.tabThree},url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(o){if(t.load=!1,e.hideLoading(),200==o.data.code){var i=o.data.data;t.list=o.data.data.list,t.shop_name=i.shop_name,t.shop_logo=i.shop_logo,t.collection_num=i.collection_num,t.collection_status=i.collection_status,t.quantity_on_sale=i.quantity_on_sale,t.quantity_sold=i.quantity_sold,t.sharehrefTitle=t.shop_name,t.shareImg=t.shop_logo,t.shareContent=t.shop_name,t.shop_list=o.data.data.shop_list,console.log(o.data.data.shop_list),t.getLiveRoomImg(i.roomid)}else e.showToast({title:o.data.message,duration:1500,icon:"none"})},fail:function(){t.load=!1,e.hideLoading()}})},storeTop_content_show:function(){this.store_bottom_flag=!this.store_bottom_flag,this.store_bottom_flag?this.storeTop_content_img="https://xiaochengxu.laiketui.com/V2.7/images/icon1/storeTop.png":this.storeTop_content_img="https://xiaochengxu.laiketui.com/V2.7/images/icon1/storeBottom.png"}}};t.default=c}).call(this,o("543d")["default"])},"9c3d":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}};t.default=i},c054:function(e,t,o){"use strict";var i,a=function(){var e=this,t=e.$createElement;e._self._c},s=[];o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return i}))},c59d:function(e,t,o){},c781:function(e,t,o){"use strict";o.r(t);var i=o("c054"),a=o("f9d8");for(var s in a)"default"!==s&&function(e){o.d(t,e,(function(){return a[e]}))}(s);o("e610");var n,r=o("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,"668a7c13",null,!1,i["a"],n);t["default"]=c.exports},d241:function(e,t,o){"use strict";var i,a=function(){var e=this,t=e.$createElement;e._self._c},s=[];o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return i}))},e610:function(e,t,o){"use strict";var i=o("3e95"),a=o.n(i);a.a},ef75:function(e,t,o){"use strict";o.r(t);var i=o("d241"),a=o("f2f4");for(var s in a)"default"!==s&&function(e){o.d(t,e,(function(){return a[e]}))}(s);o("7534");var n,r=o("f0c5"),c=Object(r["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],n);t["default"]=c.exports},f2f4:function(e,t,o){"use strict";o.r(t);var i=o("9c3d"),a=o.n(i);for(var s in i)"default"!==s&&function(e){o.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},f9d8:function(e,t,o){"use strict";o.r(t);var i=o("80ec"),a=o.n(i);for(var s in i)"default"!==s&&function(e){o.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a}},[["462a","common/runtime","common/vendor"]]]);