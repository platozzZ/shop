(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/search/search"],{"52b0":function(t,e,o){"use strict";o.r(e);var n=o("c044"),r=o("cd38");for(var a in r)"default"!==a&&function(t){o.d(e,t,(function(){return r[t]}))}(a);o("7642");var c,i=o("f0c5"),s=Object(i["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],c);e["default"]=s.exports},7642:function(t,e,o){"use strict";var n=o("c096"),r=o.n(n);r.a},"87fe8":function(t,e,o){"use strict";(function(t){o("a1f9");n(o("66fd"));var e=n(o("52b0"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])},c044:function(t,e,o){"use strict";var n,r=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.topTabBar=0},t.e1=function(e){t.topTabBar=1})},a=[];o.d(e,"b",(function(){return r})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}))},c096:function(t,e,o){},cd38:function(t,e,o){"use strict";o.r(e);var n=o("e349"),r=o.n(n);for(var a in n)"default"!==a&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=r.a},e349:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o("2f62");o("b206");function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,n)}return o}function a(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){c(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function c(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var i=function(){Promise.all([o.e("common/vendor"),o.e("components/header")]).then(function(){return resolve(o("6c1c"))}.bind(null,o)).catch(o.oe)},s={data:function(){return{title:"搜索商品",openHotText:"关闭热门搜索",openHotWord:!0,back_img:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",serchimg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/searchh.png",show:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/show.png",hide:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/hide.png",readimg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/deletes2x.png",cancel:!1,placeholder:"请输入商品名称",placeholder1:"",host:"",searchtxt:"",storag:"",prompt:"",searchgoods:"",success:"",topTabBar:0,is_open:!1,placeStyle:"color:#999999;font-size: 26upx"}},onShow:function(){this.storag=t.getStorageSync("history"),this.openHotWord=t.getStorageSync("hotStatu"),this.placeholder1=this.placeholder,this.openHotWord?this.openHotText="关闭热门搜索":this.openHotText="开启热门搜索",this._axios(),this.cancel=!0},components:{heads:i},methods:a({_placeholder:function(){this.placeholder1=this.placeholder},_placeholder1:function(){this.placeholder1=""},hotsearchStatu:function(){this.openHotWord?this.openHotWord=!1:this.openHotWord=!0;var e=this.openHotWord;t.setStorage({key:"hotStatu",data:e})},_axios:function(){var e=this,o={module:"app",action:"search",app:"hot_search",type:this.topTabBar};t.request({data:o,url:t.getStorageSync("url"),success:function(o){200==o.data.code?(e.host=o.data.data,1==o.data.is_open?e.is_open=!0:e.is_open=!1):t.showToast({title:o.data.message,duration:1500,icon:"none"})},error:function(t){console.log(t)}})},_search:function(){var e=this.storag;if(""!=this.searchtxt){var o=this;if(e.length>0)if(e.length>4)if(o.in_array(o.searchtxt,e)){var n=e.indexOf(o.searchtxt);e.splice(n,1),e.unshift(o.searchtxt)}else e.unshift(o.searchtxt),e.pop();else if(o.in_array(o.searchtxt,e)){n=e.indexOf(o.searchtxt);e.splice(n,1),e.unshift(o.searchtxt)}else e.unshift(o.searchtxt);else e=[],e.unshift(o.searchtxt);t.setStorage({key:"history",data:e,success:function(e){t.navigateTo({url:"searchResult?searchtxt="+o.searchtxt+"&topTabBar="+o.topTabBar,success:function(){o.type(1),o.cancel=!1,o.searchtxt=""}})}})}else t.showToast({title:"请输入搜索的名称",duration:1500,icon:"none"})},in_array:function(t,e){for(var o=0;o<e.length;o++){var n=e[o].toString();if(n==t)return!0}return!1},clearhis:function(){var e=this;t.removeStorage({key:"history",success:function(){e.storag="",t.showToast({title:"记录清除成功",duration:1500,icon:"none"})}})},hotsearch:function(t){this.searchtxt=t,this._search()},_record:function(t){this.searchtxt=t,this._search()}},(0,n.mapMutations)({type:"SET_TYPE"})),watch:{topTabBar:function(t){this.title=t?"搜索店铺":"搜索商品"},searchtxt:function(e,o){this.cancel=""==e;var n=this,r={module:"app",action:"search",app:"input_search",type:n.topTabBar};r.keyword=this.searchtxt,""!==this.searchtxt&&t.request({data:r,url:t.getStorageSync("url"),success:function(t){var e=t.data;0!=e.data.length?(n.prompt=e.data,console.log(n.prompt+"11111")):n.prompt=!1},error:function(t){console.log(t)}})}}};e.default=s}).call(this,o("543d")["default"])}},[["87fe8","common/runtime","common/vendor"]]]);