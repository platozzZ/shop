(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/myStore/applyStore"],{"0135":function(e,t,s){"use strict";var a,n=function(){var e=this,t=e.$createElement;e._self._c},o=[];s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return o})),s.d(t,"a",(function(){return a}))},"4e65":function(e,t,s){"use strict";var a=s("9430"),n=s.n(a);n.a},"8cdf":function(e,t,s){"use strict";(function(e){s("a1f9");a(s("66fd"));var t=a(s("fa2f"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("543d")["createPage"])},9430:function(e,t,s){},cfd6:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;s("b206");var a=function(){Promise.all([s.e("common/vendor"),s.e("components/header")]).then(function(){return resolve(s("6c1c"))}.bind(null,s)).catch(s.oe)},n={data:function(){return{upImg1:"",goOn:!1,licence:"",storeType:1,warnTextStatus:!1,upImg:"",access_id:"",title:"申请开店",fastTap:!0,storeName:"",storeNamePH:"请填写店铺名称",storeNamePH1:"请填写店铺名称",storeTitle:"",storeTitlePH:"请填写店铺简介信息（50字以内）",storeTitlePH1:"请填写店铺简介信息（50字以内）",userName:"",userNamePH:"请填写真实姓名",userNamePH1:"请填写真实姓名",userID:"",userIDPH:"请填写身份证号",userIDPH1:"请填写身份证号",userPhone:"",userPhonePH:"请填写联系电话",userPhonePH1:"请填写联系电话",userAdd:"",userAddPH:"请填写联系地址",userAddPH1:"请填写联系地址",sellRange:"",sellRangePH:"请填写店铺经营范围",sellRangePH1:"请填写店铺经营范围",agreement:!1,warnImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/warnIng.png",addImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/tianjiadizhi2x.png",agreement_t:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/landing_gou2x.png",agreement_f:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/landing_wei2x.png",delImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/delete2x.png",storeNameStatus:!1,storeTitleStatus:!1,userNameStatus:!1,userIDStatus:!1,userPhoneStatus:!1,userAddStatus:!1,compStatus:!1,sellRangeStatus:!1,quan_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",quan_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehei2x.png",placeStyle:"color:#b8b8b8;font-size:28upx;"}},onLoad:function(e){this.goOn=e.goOn},mounted:function(){var t=this;t.$nextTick((function(){t.$refs.lktAuthorizeComp.handleAfterAuth(t,"../../pages/login/login?landing_code=1",(function(){t.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):t.$store.state.access_id,t.shop_id=e.getStorageSync("shop_id")?e.getStorageSync("shop_id"):t.$store.state.shop_id,t.goOn&&e.request({data:{module:"app",action:"mch",m:"continue_apply",access_id:t.access_id,shop_id:t.shop_id},url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){var s=e.data.list;t.storeName=s.name,t.storeTitle=s.shop_information,t.sellRange=s.shop_range,t.userName=s.realname,t.userID=s.ID_number,t.userPhone=s.tel,t.userAdd=s.address,t.storeType=s.shop_nature,t.agreement=!0,t.upImg=s.business_license,t.upImg1=s.business_license,t.storeNameStatus=!0,t.storeTitleStatus=!0,t.userNameStatus=!0,t.userIDStatus=!0,t.userPhoneStatus=!0,t.userAddStatus=!0}})}))}))},components:{heads:a},methods:{changeLoginStatus:function(){var t=this;t.access_id=e.getStorageSync("access_id")},_delImg:function(){this.upImg=""},upLoadImg:function(){var t=this;this.fastTap&&(this.fastTap=!1,this.upImg?(t.fastTap=!0,e.previewImage({urls:t.upImg,success:function(){}})):(t.fastTap=!0,e.chooseImage({count:1,success:function(e){t.upImg=e.tempFilePaths[0]},error:function(){}})))},_submit:function(){var t=this;if(this.fastTap){this.fastTap=!1;var s=this.storeNameStatus&&this.storeTitleStatus&&this.userNameStatus&&this.userIDStatus&&this.userPhoneStatus&&this.userAddStatus&&this.agreement&&this.sellRange;if(console.log(11111),s)console.log(this.upImg),console.log(this.upImg1),this.upImg&&this.upImg!=this.upImg1?(console.log(22222),e.uploadFile({url:e.getStorageSync("url"),filePath:t.upImg,name:"file",formData:{module:"app",action:"mch",m:"apply",access_id:t.access_id,name:t.storeName,shop_information:t.storeTitle,shop_range:t.sellRange,realname:t.userName,ID_number:t.userID,tel:t.userPhone,address:t.userAdd,shop_nature:t.storeType},success:function(s){var a=JSON.parse(s.data);t.fastTap=!0,200==a.code?e.redirectTo({url:"../myStore/applySuc"}):(t.fastTap=!0,e.showToast({title:a.message,duration:1500,icon:"none"}))},error:function(){t.fastTap=!0}})):(console.log(3333),e.request({url:e.getStorageSync("url"),data:{module:"app",action:"mch",m:"apply",access_id:t.access_id,name:t.storeName,shop_information:t.storeTitle,shop_range:t.sellRange,realname:t.userName,ID_number:t.userID,tel:t.userPhone,address:t.userAdd,shop_nature:t.storeType},header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(s){t.fastTap=!0,200==s.data.code?e.redirectTo({url:"../myStore/applySuc"}):(t.fastTap=!0,e.showToast({title:s.data.message,duration:1500,icon:"none"}))},error:function(){t.fastTap=!0}}));else if(this.agreement){this.fastTap=!0;var a="";this.storeNameStatus?this.storeTitleStatus?this.userNameStatus?this.userIDStatus?this.userPhoneStatus?this.userAddStatus?this.agreement?this.sellRange||(a="经营范围不能为空"):a="协议未勾选":a="联系地址不能为空":a="联系电话不能为空":a="身份证号不能为空":a="用户姓名不能为空":a="店铺信息不能为空":a="店铺名称不能为空",e.showToast({title:a,icon:"none",duration:1500})}else this.fastTap=!0,e.showToast({title:"请勾选我已阅读协议",icon:"none"})}},_agreement:function(){this.agreement=!this.agreement},_lookXY:function(){e.navigateTo({url:"./applyAgreement"})},_changeType:function(e){console.log(e),this.storeType=e},_changePH:function(t){var s=this;"storeName"==t?(this.storeNamePH=this.storeNamePH1,0==this.storeName.length?this.storeNameStatus=!1:this.storeName.length>0&&e.request({data:{module:"app",action:"mch",m:"verify_store_name",access_id:s.access_id,name:s.storeName},url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){200==t.data.code?(s.storeNameStatus=!0,s.warnTextStatus=!1):(e.showToast({title:t.data.message,duration:1500,icon:"none"}),s.storeNameStatus=!1,s.warnTextStatus=!0)}})):"storeTitle"==t?(this.storeTitlePH=this.storeTitlePH1,0==this.storeTitle.length?this.storeTitleStatus=!1:this.storeTitle.length>0&&(this.storeTitleStatus=!0)):"userName"==t?(this.userNamePH=this.userNamePH1,0==this.userName.length?this.userNameStatus=!1:this.userName.length>1&&(this.userNameStatus=!0)):"userID"==t?(this.userIDPH=this.userIDPH1,0==this.userID.length?this.userIDStatus=!1:this.userID.length<18?(e.showToast({title:"请输入正确的身份证号",duration:1500,icon:"none"}),this.userIDStatus=!1):18==this.userID.length&&(this.userIDStatus=!0)):"userPhone"==t?(this.userPhonePH=this.userPhonePH1,0==this.userPhone.length?this.userPhoneStatus=!1:this.userPhone.length<11?(e.showToast({title:"请输入正确的联系电话",duration:1500,icon:"none"}),this.userPhoneStatus=!1):11==this.userPhone.length&&(this.userPhoneStatus=!0)):"userAdd"==t?(this.userAddPH=this.userAddPH1,0==this.userAdd.length?this.userAddStatus=!1:this.userAdd.length>0&&(this.userAddStatus=!0)):"sellRange"==t&&(this.sellRangePH=this.sellRangePH1,0==this.sellRange.length?this.sellRangeStatus=!1:this.sellRange.length>0&&(this.sellRangeStatus=!0))},_changePH1:function(e){"storeName"==e?this.storeNamePH="":"storeTitle"==e?this.storeTitlePH="":"userName"==e?this.userNamePH="":"userID"==e?this.userIDPH="":"userPhone"==e?this.userPhonePH="":"userAdd"==e?this.userAddPH="":"sellRange"==e&&(this.sellRangePH="")}}};t.default=n}).call(this,s("543d")["default"])},e69c:function(e,t,s){"use strict";s.r(t);var a=s("cfd6"),n=s.n(a);for(var o in a)"default"!==o&&function(e){s.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},fa2f:function(e,t,s){"use strict";s.r(t);var a=s("0135"),n=s("e69c");for(var o in n)"default"!==o&&function(e){s.d(t,e,(function(){return n[e]}))}(o);s("4e65");var i,u=s("f0c5"),r=Object(u["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],i);t["default"]=r.exports}},[["8cdf","common/runtime","common/vendor"]]]);