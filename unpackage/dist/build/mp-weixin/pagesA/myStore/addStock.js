(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/myStore/addStock"],{"0a17":function(t,a,e){"use strict";var o,n=function(){var t=this,a=t.$createElement;t._self._c},i=[];e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return i})),e.d(a,"a",(function(){return o}))},3540:function(t,a,e){"use strict";var o=e("bbf0"),n=e.n(o);n.a},4604:function(t,a,e){"use strict";e.r(a);var o=e("0a17"),n=e("68ce");for(var i in n)"default"!==i&&function(t){e.d(a,t,(function(){return n[t]}))}(i);e("3540");var s,c=e("f0c5"),r=Object(c["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);a["default"]=r.exports},"67e9":function(t,a,e){"use strict";(function(t){e("a1f9");o(e("66fd"));var a=o(e("4604"));function o(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("543d")["createPage"])},"68ce":function(t,a,e){"use strict";e.r(a);var o=e("8a89"),n=e.n(o);for(var i in o)"default"!==i&&function(t){e.d(a,t,(function(){return o[t]}))}(i);a["default"]=n.a},"8a89":function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=function(){Promise.all([e.e("common/vendor"),e.e("components/header")]).then(function(){return resolve(e("6c1c"))}.bind(null,e)).catch(e.oe)},n={data:function(){return{back:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",addStockNum:"",title:"库存管理",access_id:"",loadGif:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/loading.gif",load:!1,shop_id:"",p_id:"",attr:"",attrList:"",fastTap:!0}},onLoad:function(a){var e=this;e.p_id=a.p_id,e.$nextTick((function(){e.$refs.lktAuthorizeComp.handleAfterAuth(e,"../../pages/login/login?landing_code=1",(function(){e.access_id=t.getStorageSync("access_id")?t.getStorageSync("access_id"):e.$store.state.access_id,e.shop_id=t.getStorageSync("shop_id")?t.getStorageSync("shop_id"):e.$store.state.shop_id,e._axios()}))}))},methods:{changeLoginStatus:function(){var a=this;a.access_id=t.getStorageSync("access_id"),a._axios()},_back1:function(){var a=!1;if(this.attrList[0].length>1)for(var e=0;e<this.attrList.length;e++)0!=this.attrList[e][0].addStockNum&&(a=!0);else for(var o=0;o<this.attrList.length;o++)0!=this.attrList[o].addStockNum&&(a=!0);var n=this;a?t.showModal({title:"提示",content:"是否提交修改？",success:function(a){a.confirm?n._sub():t.navigateBack({delta:1})}}):t.navigateBack({delta:1})},checkNum:function(a,e,o){Number(a.target.value<0)&&Math.abs(a.target.value)>=e.stock&&(t.showToast({title:"已超过最大可减少的库存数量",duration:1500,icon:"none"}),e.addStockNum=0)},_sub:function(){if(this.fastTap){this.fastTap=!1;var a=[];if(this.attrList[0].length>1){for(var e=0;e<this.attrList.length;e++)a.push(this.attrList[e][0].addStockNum);console.log(123)}else{for(e=0;e<this.attrList.length;e++)a.push(this.attrList[e].addStockNum);console.log(321)}a=a.join(","),console.log(a);var o=this;t.request({url:t.getStorageSync("url"),data:{access_id:o.access_id,shop_id:o.shop_id,module:"app",action:"mch",p_id:o.p_id,m:"up_stock",number:a},success:function(a){o.fastTap=!0,200==a.data.code?(t.showToast({title:"修改成功",duration:1500,icon:"none"}),setTimeout((function(){t.navigateBack({delta:1})}),1500)):t.showToast({title:a.data.message,duration:1500,icon:"none"}),console.log(a)},error:function(t){o.fastTap=!0}})}},_axios:function(){var a=this;t.request({url:t.getStorageSync("url"),data:{access_id:a.access_id,shop_id:a.shop_id,module:"app",action:"mch",p_id:a.p_id,m:"up_stock_page"},header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){200==e.data.code?(console.log(e),a.attr=e.data.attr,a.attrList=e.data.attrList):t.showToast({title:e.data.message,icon:"none",duration:1500})},error:function(t){console.log("异常"),console.log(t)}})}},computed:{tableList:function(){if(0==this.attr.length){var a=750;return t.upx2px(a)+"px"}a=2*this.tableWidth+650;return t.upx2px(a)+"px"},halfWidth:function(){var a=t.getStorageSync("data_height")?t.getStorageSync("data_height"):this.$store.state.data_height,e=parseInt(a),o=2*e;return t.upx2px(o)+"px"}},components:{heads:o}};a.default=n}).call(this,e("543d")["default"])},bbf0:function(t,a,e){}},[["67e9","common/runtime","common/vendor"]]]);