<view class="container _div"><heads vue-id="7330d131-1" title="{{title}}" bind:__l="__l"></heads><block wx:if="{{pageFlag}}"><view class="_div"><view class="choose_attr _ul"><block wx:for="{{attrList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['_chooseAttr',['$0',index],[[['attrList','',index]]]]]]]}}" class="{{['_li',(item.status)?'active':'']}}" bindtap="__e">{{''+item.text+''}}<block wx:if="{{item.status}}"><image class="img _img" src="{{chooseImg}}"></image></block></view></block></view><view data-event-opts="{{[['tap',[['_saveAttr',['$event']]]]]}}" class="btn_bottom _div" bindtap="__e">保存</view></view></block><block wx:else><view class="_div"><view class="chooseAttrStyle _div"><view class="_div">添加方式</view><view class="_ul"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e" class="_li"><image src="{{attrStyle==1?quan_hei:quan_hui}}" class="_img"></image>选择属性名称</view><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" bindtap="__e" class="_li"><image src="{{attrStyle==2?quan_hei:quan_hui}}" class="_img"></image>自定义属性名称</view></view></view><block wx:if="{{attrStyle==1}}"><view class="chooseAttr _div"><view class="_div">属性名称</view><input class="input" type="text" placeholder="请选择属性名称" placeholder-style="font-size:28upx" disabled="{{true}}" data-event-opts="{{[['tap',[['_clickAttr',['$event']]]]]}}" value="{{chooseAttr}}" bindtap="__e"/><image class="jiantou _img" src="{{jiantou}}"></image></view><view class="hr _div"></view><block wx:for="{{attrDataList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{index}}"><view class="attrBox _div"><view class="attr_hr _div"></view><view class="attrBoxTitle _div">{{''+index+''}}<text class="text">(请选择属性值)</text><image class="delete_img _img" src="{{delete_img}}" data-event-opts="{{[['tap',[['deleteAttr',[index]]]]]}}" bindtap="__e"></image></view><view class="attrList _div"><block wx:for="{{item}}" wx:for-item="it" wx:for-index="id" wx:key="id"><view data-event-opts="{{[['tap',[['_chooseAttrData',['$0','$1',index],[[['attrDataList','',index],['','',id]],[['attrDataList','',index]]]]]]]}}" class="{{['_div',(it.status)?'active':'']}}" bindtap="__e">{{it.value}}</view></block></view></view></block></block><view class="hr _div"></view><scroll-view scroll-x="{{true}}"><view class="table _div"><view class="tr _div"><block wx:for="{{attr_group}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="th _div">{{item.attr_group_name}}</view></block><view class="th _div">成本价</view><view class="th _div">原价</view><view class="th _div">售价</view><view class="th _div">库存</view></view><block wx:for="{{attr_arr}}" wx:for-item="items" wx:for-index="index" wx:key="index"><view class="tr _div"><block wx:for="{{items.attr_list}}" wx:for-item="item" wx:for-index="index1" wx:key="index1"><view class="td _div">{{item.attr_name}}</view></block><view class="td _div"><view class="_div">{{''+(index==0?items.cbj:'')+''}}<block wx:if="{{index>0}}"><input class="input" type="number" data-event-opts="{{[['input',[['__set_model',['$0','cbj','$event',[]],[[['attr_arr','',index]]]]]]]}}" value="{{items.cbj}}" bindinput="__e"/></block></view></view><view class="td _div"><view class="_div">{{''+(index==0?items.yj:'')+''}}<block wx:if="{{index>0}}"><input class="input" type="number" data-event-opts="{{[['input',[['__set_model',['$0','yj','$event',[]],[[['attr_arr','',index]]]]]]]}}" value="{{items.yj}}" bindinput="__e"/></block></view></view><view class="td _div"><view class="_div">{{''+(index==0?items.sj:'')+''}}<block wx:if="{{index>0}}"><input class="input" type="number" data-event-opts="{{[['input',[['__set_model',['$0','sj','$event',[]],[[['attr_arr','',index]]]]]]]}}" value="{{items.sj}}" bindinput="__e"/></block></view></view><view class="td _div"><view class="_div">{{''+(index==0?items.kucun:'')+''}}<block wx:if="{{index>0}}"><input class="input" type="number" data-event-opts="{{[['input',[['__set_model',['$0','kucun','$event',[]],[[['attr_arr','',index]]]]]]]}}" value="{{items.kucun}}" bindinput="__e"/></block></view></view></view></block></view></scroll-view></block><block wx:else><view class="hr _div"></view><view class="{{['addAttr _div',(addList.length>0)?'border-bottom':'']}}"><view class="addLeft _div">属性名称</view><input type="text" placeholder="请输入商品属性名称" data-event-opts="{{[['input',[['__set_model',['','addAttrName','$event',[]]]]]]}}" value="{{addAttrName}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['addAttr',['$event']]]]]}}" bindtap="__e">添加属性</button></view><block wx:for="{{addList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="_div"><view class="addAttrName _div"><view class="addLeft _div">{{item.attr_group_name}}</view><input type="text" placeholder="请输入商品属性值" data-event-opts="{{[['input',[['__set_model',['$0','childValue','$event',[]],[[['addList','',index]]]]]]]}}" value="{{item.childValue}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['addAttrValue',['$0'],[[['addList','',index]]]]]]]}}" class="addBtn" bindtap="__e">添加</button><button data-event-opts="{{[['tap',[['removeAttrName',[index]]]]]}}" class="removeBtn" bindtap="__e">删除</button></view><block wx:if="{{item.attr_list.length>0}}"><view class="addAttrValue _div"><view class="addLeft _div"></view><view class="_ul"><block wx:for="{{item.attr_list}}" wx:for-item="items" wx:for-index="indx" wx:key="indx"><view data-event-opts="{{[['tap',[['removeAttrValue',['$0',indx],[[['addList','',index]]]]]]]}}" bindtap="__e" class="_li"><view class="icon _div"></view>{{''+items.attr_name+''}}</view></block></view></view></block></view></block><view class="hr _div"></view><scroll-view scroll-x="{{true}}"><view class="table _div"><view class="tr _div"><block wx:for="{{addList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block wx:if="{{item.attr_list.length>0}}"><view class="th _div">{{item.attr_group_name}}</view></block></block><view class="th _div">成本价</view><view class="th _div">原价</view><view class="th _div">售价</view><view class="th _div">库存</view></view><block wx:for="{{attr_arr}}" wx:for-item="items" wx:for-index="index" wx:key="index"><view class="tr _div"><block wx:for="{{items.attr_list}}" wx:for-item="item" wx:for-index="index1" wx:key="index1"><view class="td _div">{{item.attr_name}}</view></block><view class="td _div"><view class="_div">{{''+(index==0?items.cbj:'')+''}}<block wx:if="{{index>0}}"><input class="input" type="number" data-event-opts="{{[['input',[['__set_model',['$0','cbj','$event',[]],[[['attr_arr','',index]]]]]]]}}" value="{{items.cbj}}" bindinput="__e"/></block></view></view><view class="td _div"><view class="_div">{{''+(index==0?items.yj:'')+''}}<block wx:if="{{index>0}}"><input class="input" type="number" data-event-opts="{{[['input',[['__set_model',['$0','yj','$event',[]],[[['attr_arr','',index]]]]]]]}}" value="{{items.yj}}" bindinput="__e"/></block></view></view><view class="td _div"><view class="_div">{{''+(index==0?items.sj:'')+''}}<block wx:if="{{index>0}}"><input class="input" type="number" data-event-opts="{{[['input',[['__set_model',['$0','sj','$event',[]],[[['attr_arr','',index]]]]]]]}}" value="{{items.sj}}" bindinput="__e"/></block></view></view><view class="td _div"><view class="_div">{{''+(index==0?items.kucun:'')+''}}<block wx:if="{{index>0}}"><input class="input" type="number" data-event-opts="{{[['input',[['__set_model',['$0','kucun','$event',[]],[[['attr_arr','',index]]]]]]]}}" value="{{items.kucun}}" bindinput="__e"/></block></view></view></view></block></view></scroll-view></block><view data-event-opts="{{[['tap',[['_complete',['$event']]]]]}}" class="btn_bottom _div" bindtap="__e">完成</view></view></block></view>