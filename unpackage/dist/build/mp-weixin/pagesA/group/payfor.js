(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/group/payfor"],{2603:function(e,t,i){"use strict";(function(e){i("a1f9");a(i("66fd"));var t=a(i("c439"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},4190:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("afbb"),n=i("2f62");i("b206");function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var c=function(){Promise.all([i.e("common/vendor"),i.e("components/header")]).then(function(){return resolve(i("6c1c"))}.bind(null,i)).catch(i.oe)},u=function(){Promise.all([i.e("common/vendor"),i.e("components/header-h5")]).then(function(){return resolve(i("b133"))}.bind(null,i)).catch(i.oe)},h=function(){i.e("components/paymodel").then(function(){return resolve(i("dc18"))}.bind(null,i)).catch(i.oe)},d=function(){i.e("components/maskM").then(function(){return resolve(i("79a9"))}.bind(null,i)).catch(i.oe)},l={data:function(){return{open_wxpay:!1,open_alipay:!1,open_wallet:!1,ispass:!1,payment:"",makeOrd:!1,load:!0,notWallte:!1,useWallte:!1,value:"",cpId:"",ishide:0,oldheight:"",returnR:"",title:"确认订单信息",adds:"",can_pay_:"",iswxmp:"",adds_f:"",price:"",pro:"",user_money:"",no_change:!0,guanbiImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/close2x.png",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/jiantou2x.png",pay_y:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yuezhifu2x.png",pay_z:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/zhifubaozhifu2x.png",pay_w:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/weixinzhifu2x.png",pay_b:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/lALPBb.png",pay_bd:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/baiduzhifu2x.png",quan_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",quan_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehei2x.png",zfb:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/zhifubaozhifu2x.png",wx:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/weixinzhifu2x.png",yezf:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yuezhifu2x.png",storeimg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/store.png",loadGif:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/5-121204193R7.gif",pay:[{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yuezhifu2x.png",name:"钱包余额"},{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/weixinzhifu2x.png",name:"微信支付"},{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/zhifubaozhifu2x.png",name:"支付宝"}],pay_index:-1,pay_style:"",content:"是否抵扣余额？",mask_value:"",num:"",msg:"",msgLength:0,access_id:"",digits:["","","","","",""],page:0,enterless:!0,pay_display:!1,password_status:"",password_display:!1,yunfei:"",name:"",channel:"",erroTime:0,focus:!0,providerList:"",address:"",aliPayStatue:!1,wxPayStatue:!1,baidupayStatue:!1,fastTap:!0,groupres:"",product:{},showPayWay1:!1,showPayWay:!1,address_id:"",needpay:"",groupman:"",total:"",code:"",myappid:"",mch_data:"",mch_name:"",mch_id:"",firstFlag:!0,can_pay:!0,price1:0,grade_rate:1,activity_no:"",payTitle:""}},beforeDestroy:function(){this.$store.state.order_id=""},onLoad:function(t){var i=this;this.cpId=t.product,this.cpId||(this.cpId=""),this.returnR=t.returnR,e.onWindowResize((function(e){""==i.oldheight?(i.oldheight=e.size.windowHeight,i._hide()):Number(i.oldheight)<Number(e.size.windowHeight)?(i.oldheight=e.size.windowHeight,console.log("111"),i._show()):Number(i.oldheight)==Number(e.size.windowHeight)?(console.log("222"),i._show()):(console.log("333"),i._hide())})),this.product=JSON.parse(this.cpId),this.$store.state.address_id=this.$store.state.address_id_def,this.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):this.$store.state.access_id,this._axios(),e.getProvider({service:"payment",success:function(e){i.providerList=e.provider.map((function(e){switch(e){case"alipay":return{name:"支付宝",id:e,loading:!1};case"wxpay":return{name:"微信",id:e,loading:!1}}}))},fail:function(e){console.log("获取登录通道失败：",e)}})},onShow:function(){this.orde_id=this.$store.state.order_id,this.cart_id=this.$store.state.cart_id,this.address_id=this.$store.state.address_id,this.pay_name=this.$store.state.pay_lx,this.bind_id=this.$store.state.bindding_num,this.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):this.$store.state.access_id,this._axios(),this.iswxmp=!0},computed:{halfWidth:function(){var t=e.getStorageSync("data_height")?e.getStorageSync("data_height"):this.$store.state.data_height,i=parseInt(t),a=2*i;return e.upx2px(a)+"px"},_toal:function(){console.log(this.numb)}},methods:s({isshow:function(){var e=this;1==e.payment.mini_wechat&&(e.open_wxpay=!0),1==e.payment.wallet_pay&&(this.chooseWay("balance"),e.open_wallet=!0,e.useWallte=!0)}},(0,n.mapMutations)({order_id:"SET_ORDER_ID",status:"SET_STATUS"}),{changeLoginStatus:function(){var e=this;e.orde_id=e.$store.state.order_id,e.cart_id=e.$store.state.cart_id,e.address_id=e.$store.state.address_id_def,e.pay_name=e.$store.state.pay_lx,e.bind_id=e.$store.state.bindding_num,e.access_id=e.$store.state.access_id,e._axios()},_hide:function(){this.ishide=1},_show:function(){console.log("show2"),this.ishide=0,0==this.value.length&&(this.value=0)},replaceInput:function(e){this.value=e.detail.value,this._usyue()},toUrl:function(){var e=this;(0,a.toUrl)(e)},_usyue:function(){this.needpay=(this.total-this.value).toFixed(2),this.needpay<=0&&(this.needpay=0)},_axios:function(){var e=this;(0,a._axios)(e),e.payTitle=e.pro.pro_name},payThree:function(){var e=this;(0,a.payThree)(e)},forgetPW:function(){e.navigateTo({url:"../../pagesB/setUp/paymentPassword"})},chooseWay:function(e){var t=this;(0,a.chooseWay)(e,t)},_showPayWay:function(){var e=this;this.showPayWay1=!0,setTimeout((function(){e.showPayWay=!1,e.showPayWay1=!1}),500)},switchChange:function(e){var t=this;(0,a.switchChange)(e,t)},_uni_navigateTo:function(t){e.navigateTo({url:t})},run_weixinPay:function(){var e=this;e.weixinPay(),console.log("wx11123334441111"),e.wxPayStatue?e.pay_wx("wx"):e.aliPayStatue?e.pay_wx("ali"):e.baidupayStatue&&e.pay_wx("baidu_pay")},getOrderInfo:function(t){var i=this;console.log("=====getOrderInfo");var a={access_id:i.access_id,sNo:i.sNo,title:i.pro.pro_name,module:"app",action:"pay",type:"app_wechat",total:i.price1};console.log("getOrderInfo==type="+t),"wx"==t?a.type="app_wechat":"ali"==t&&(a.type="alipay"),console.log("getorderinfo---------------------data"),console.log(JSON.stringify(a));var n=i.LaiKeTuiCommon.getMPAliAuthCode();return n.then((function(t){return console.log(t),t&&(a.alimp_authcode=t),new Promise((function(t){e.request({url:e.getStorageSync("url"),data:a,success:function(e){console.log("======================result"),console.log(JSON.stringify(e)),console.log("res(result)------success"),t(e)},fail:function(e){}})}))}))},weixinPay:function(){var e=this;(0,a.weixinPay)(e)},_payFail:function(){var e=this;(0,a._payFail)(e)},pay_wx:function(e){var t=this;t.laikepay.laikePayMain(t,e)},in_array:function(e,t){for(var i=0;i<t.length;i++){var a=t[i].toString();if(a==e)return!0}return!1},focust:function(){this.focus=!0},_gotPayType:function(){var e=this;(0,a._gotPayType)(e)},_pay_style:function(){var e=this;(0,a._pay_style)(e)},_confirm:function(e){var t=this;t.msg=e,(0,a._confirm)(e,t)},_createNotPay:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this;(0,a._createNotPay)(e,t,i,n)},_cancel:function(){var e=this;e.pay_display=!1,e._createNotPay("",!1,"cancel")},_payAxios:function(e){var t=this;(0,a._payAxios)(e,t)},_password_status:function(){e.navigateTo({url:"../../pagesB/setUp/payment"}),this.password_display=!1},_goStore:function(t){e.navigateTo({url:"../../pagesA/store/store?shop_id="+t})},_mask_value:function(e){this.mask_value=e,"取消"==e||"确认"==e&&3==this.pay_style&&this._deduction()},changeValue:function(e,t){var i=this;(0,a.changeValue)(e,t,i)}}),components:{heads:u,Maskm:d,headapp:c,paymodel:h},watch:{address_id:function(){this._axios()},msg:function(e){this.msgLength=e.length},page:{handler:function(e,t){0==t&&1==e&&(this.timer=setTimeout((function(){}),500))},deep:!0},value:function(e,t){this.changeValue(e,t)},yunfei:function(){var e=this;e.total=e.product.price*e.product.num+parseFloat(e.yunfei),e.total=e.total.toFixed(2),e.useWallte&&(Number(e.user_money)>Number(e.total)?e.value=e.total:e.value=e.user_money,e.needpay=(this.total-this.value).toFixed(2))}}};t.default=l}).call(this,i("543d")["default"])},"66ef":function(e,t,i){},a358:function(e,t,i){"use strict";var a=i("66ef"),n=i.n(a);n.a},b809:function(e,t,i){"use strict";var a,n=function(){var e=this,t=e.$createElement;e._self._c},o=[];i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){return a}))},c104:function(e,t,i){"use strict";i.r(t);var a=i("4190"),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},c439:function(e,t,i){"use strict";i.r(t);var a=i("b809"),n=i("c104");for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i("a358");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"2f08469a",null,!1,a["a"],s);t["default"]=c.exports}},[["2603","common/runtime","common/vendor"]]]);