(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/group/groupOrder"],{"2b35":function(e,t,o){"use strict";var a=o("f958"),i=o.n(a);i.a},ab02:function(e,t,o){"use strict";var a,i=function(){var e=this,t=e.$createElement;e._self._c},n=[];o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return a}))},bbb1:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o("2f62");o("b206");function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var s=function(){Promise.all([o.e("common/vendor"),o.e("components/header")]).then(function(){return resolve(o("6c1c"))}.bind(null,o)).catch(o.oe)},d=function(){Promise.all([o.e("common/vendor"),o.e("components/header")]).then(function(){return resolve(o("6c1c"))}.bind(null,o)).catch(o.oe)},c=function(){o.e("components/uni-load-more").then(function(){return resolve(o("ef75"))}.bind(null,o)).catch(o.oe)},u={data:function(){return{title:"我的拼团",fastTap:!0,img_cg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/ass_success.png",img_sb:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/ass_fail.png",noOrder:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/noOrder.png",loadImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/loading.gif",emptyImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/empyimg92x.png",back1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/back2x.png",bback:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/bback.png",search2x:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/search2x.png",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/jiantou2x.png",storeImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/store.png",head:!0,header:["全部","待付款","拼团中","拼团成功","拼团失败"],header_copy:["all","notpay","grouping","success","fail"],rightText:["立即付款","提醒发货","确认收货","立即评价","退货","追加评价","再次购买","拼团详情","邀请好友"],leftText:["取消订单","查看物流","删除订单","查看详情","拼团详情"],access_id:"",order:"",status_id:"",dis_play:"",sreach_value:"",page:1,allLoaded:!1,autoFill:!1,bottomStatus:"",bottomPullText:"上拉加载更多...",bottomDropText:"释放更新...",loading:!1,load:!0,stau_num:null,timer:null,count:"",flag:!0,loadingType:0,value:"",isClick:!0,order_type:"all",pay:[{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/yuezhifu2x.png",name:"钱包余额"},{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/weixinzhifu2x.png",name:"微信支付"},{imgUrl:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/zhifubaozhifu2x.png",name:"支付宝"}]}},onReachBottom:function(){var t=this;if(0==this.loadingType){this.loadingType=1,t.page+=1;var o={module:"app",access_id:this.access_id,action:"groupbuy",m:"grouporder",order_type:this.order_type,page:this.page};e.request({data:o,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){console.log("onReachBottom_request"),404==e.data.code&&t.$refs.lktAuthorizeComp.handleAfterAuth(t,"../../pages/login/login?landing_code=1");var o=e.data.order;o.length>0&&(t.order=t.order.concat(o),o.length<10?t.loadingType=2:t.loadingType=0)}})}},onLoad:function(e){this.status_id=this.$store.state.status,this.order_type=this.header_copy[this.status_id],e.isPay&&(this.status_id=1)},computed:{halfWidth:function(){var t=e.getStorageSync("data_height")?e.getStorageSync("data_height"):this.$store.state.data_height,o=parseInt(t),a=2*o;return e.upx2px(a)+"px"}},watch:{value:function(e,t){this.changeValue()}},beforeDestroy:function(){clearInterval(this.timer)},onShow:function(){var t=this;this.load=!0,this.status_id=this.$store.state.status,this.order_type=this.header_copy[this.status_id];var o=new Promise((function(e,o){t.LaiKeTuiCommon.getLKTApiUrl().then((function(){e(1231)}))}));o.then((function(){t.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):t.$store.state.access_id,t.access_id?(t.page=1,t.loadingType=0,t._axios()):t.load=!1})),this.flag=!0},components:{uniLoadMore:c,heads:d,headapp:s},methods:n({},(0,a.mapMutations)({cart_id:"SET_CART_ID",order_id:"SET_ORDER_ID",address_id:"SET_ADDRESS_ID",status:"SET_STATUS"}),{changeLoginStatus:function(){var e=this;e.access_id=e.$store.state.access_id,e._axios()},_toHome:function(){e.switchTab({url:"../../pages/tabBar/home"})},_navigateTo:function(t,o,a,i){if(0==t)var n="../../pages/order/order?showPay=true&order_id="+o;else n="../../pages/order/order?order_id="+o;e.navigateTo({url:n,success:function(){console.log(1.1)}}),this.loadingType=0,this.page=1,this.flag=!1},_after:function(t,o,a){var i=[];i.push(o);var n=t.target.innerText;"申请售后"==n?e.navigateTo({url:"../../pagesA/returnGoods/returnGoods?order_details_id"+this.order_details_id+"&order_anking=1"}):"退货拒绝"==n&&(console.log(a),this.display_t=!0,this.rr_content=a)},_back:function(){this.flag=!1,e.navigateBack({delta:1})},_head:function(){this.head=!this.head},_header_index:function(e){this.page=1,"待付款"==this.header[e]?(this.status(1),this.order_type="notpay"):"拼团中"==this.header[e]?(this.status(2),this.order_type="grouping"):"拼团成功"==this.header[e]?(this.status(3),this.order_type="success"):"拼团失败"==this.header[e]?(this.status(4),this.order_type="fail"):"全部"==this.header[e]&&(this.status(0),this.order_type="all"),this.status_id=this.$store.state.status,this._axios()},_axios:function(){var t=this,o={access_id:this.access_id,module:"app",action:"groupbuy",m:"grouporder",order_type:this.order_type,page:this.page};this.access_id&&e.request({data:o,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){404==e.data.code&&t.$refs.lktAuthorizeComp.handleAfterAuth(t,"../../pages/login/login?landing_code=1"),setTimeout((function(){t.load=!1}),300);var o=e.data.order;t.order=o,o.length<10?t.allLoaded=!0:t.allLoaded=!1}})},_buttonLeft:function(t,o,a,i,n,r,s,d){return function(){var t=this;this.isClick&&(this.isClick=!1,setTimeout((function(){var i=t,n=a.substr(0,2),r={module:"app",action:"order",order_id:o,access_id:t.access_id};if(0==s)r.app="removeOrder",e.request({data:r,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){404==t.data.code&&i.$refs.lktAuthorizeComp.handleAfterAuth(i,"../../pages/login/login?landing_code=1");var o=t.data,a=o.code;o.message;200==a?(i._axios(),e.showToast({title:"取消成功！",duration:1e3,icon:"none"})):202==a?(e.showToast({title:"卖家已发货！",duration:1e3,icon:"none"}),i._axios()):e.showToast({title:"网络繁忙请稍后再试!",duration:1e3,icon:"none"})}});else if(2==s||3==s||5==s){var d={module:"app",action:"order",app:"logistics",id:a,access_id:t.access_id,type:""};1==t.source&&(d.type="pond"),e.request({url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},data:d,method:"POST",success:function(t){if(e.hideLoading(),200==t.data.code){var o=t.data.res;o.length>1?e.navigateTo({url:"../../pagesB/expressage/expressage?sNo="+a}):e.navigateTo({url:"../../pages/expressage/expressage?list="+JSON.stringify(o[0])+"&sNo="+a})}else e.showToast({title:t.data.message,duration:1500,icon:"none"})},fail:function(t){e.showToast({title:"数据加载失败！",duration:2e3,icon:"none"})}})}else if(4==s||1==s&&"PT"!=n)e.navigateTo({url:"../../pages/order?order_id="+o}),console.log("../../pages/order?order_id="+o),console.log(456);else if(9==s||10==s||1==s&&"PT"==n){var c="../group/group_end?sNo="+a+"&returnR=1";e.navigateTo({url:c})}else 12!=s&&7!=s&&6!=s&&11!=s||(r.app="del_order",e.request({data:r,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){404==t.data.code&&i.$refs.lktAuthorizeComp.handleAfterAuth(i,"../../pages/login/login?landing_code=1");var o=t.data,a=o.code,n=o.message;200==a?(e.showToast({title:"删除成功！",duration:1e3,icon:"none"}),i._axios()):e.showToast({title:n,duration:1e3,icon:"none"})}}));t.isClick=!0}),2e3))}.call(this)},_goStore:function(t){e.navigateTo({url:"../../pagesA/store/store?shop_id="+t})},_buttonRight:function(t,o,a,i,n,r,s,d,c){var u=this,l=a.substr(0,2);if(7==s||6==s||12==s){var g={module:"app",action:"order ",app:"buy_again",id:o,access_id:this.access_id};console.log(g),e.request({data:g,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){404==t.data.code&&u.$refs.lktAuthorizeComp.handleAfterAuth(u,"../../pages/login/login?landing_code=1");var o=t.data,a=o.cart_id,i=o.code;o.message;200==i?(u.cart_id(a),u.order_id(""),u.address_id(""),e.navigateTo({url:"../../pages/pay/orderDetailsr"})):105==i&&e.showToast({title:"部分商品库存不足，无法再次购买",duration:2e3,icon:"none"})}})}else if(0==s){u.order_id(o),u.address_id("");var h="../../pages/order/order?order_id="+o;"PT"!=l&&(h+="&showPay=true"),e.navigateTo({url:h})}else if(1==s){if(console.log(this.fastTap),!this.fastTap)return;if(this.fastTap=!1,0==d){g={module:"app",order_id:o,access_id:this.access_id,app:"delivery_delivery",action:"order"};console.log(g),e.request({data:g,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){u.fastTap=!0,404==t.data.code&&u.$refs.lktAuthorizeComp.handleAfterAuth(u,"../../pages/login/login?landing_code=1"),200==t.data.code&&(e.showToast({title:"已提醒卖家发货！",duration:1e3,icon:"none"}),u._axios())}})}else u.fastTap=!0}else if(4==s)e.navigateTo({url:"../../pages/order?order_id="+o});else if(3==s)console.log(c[0].id),e.navigateTo({url:"../../pages/evaluate/evaluating?order_details_id="+c[0].id+"&num=all"});else if(5==s)e.navigateTo({url:"../../pages/evaluate/evaluating?order_details_id="+c[0].id+"&add=true&num=all"});else if(9==s||10==s||11==s){h="../group/group_end?sNo="+a+"&returnR=1";e.navigateTo({url:h})}else if(2==s){g={module:"app",action:"order",app:"ok_Order",order_id:o,access_id:this.access_id};e.request({data:g,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){404==t.data.code&&u.$refs.lktAuthorizeComp.handleAfterAuth(u,"../../pages/login/login?landing_code=1");var o=t.data,a=o.code;o.message;200==a?(e.showToast({title:"收货成功！",duration:1e3,icon:"none"}),u._axios()):e.showToast({title:"确认收货失败！",duration:1e3,icon:"none"})}})}},back_click:function(){e.showToast({title:"请不要频繁点击提醒！",duration:1e3,icon:"none"})},_seart:function(){var t=this;e.navigateTo({url:"../../pages/order/orderSearch?sreach_value="+t.sreach_value})}})};t.default=u}).call(this,o("543d")["default"])},ca92:function(e,t,o){"use strict";o.r(t);var a=o("bbb1"),i=o.n(a);for(var n in a)"default"!==n&&function(e){o.d(t,e,(function(){return a[e]}))}(n);t["default"]=i.a},de86:function(e,t,o){"use strict";o.r(t);var a=o("ab02"),i=o("ca92");for(var n in i)"default"!==n&&function(e){o.d(t,e,(function(){return i[e]}))}(n);o("2b35");var r,s=o("f0c5"),d=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"113fd90c",null,!1,a["a"],r);t["default"]=d.exports},ebbc:function(e,t,o){"use strict";(function(e){o("a1f9");a(o("66fd"));var t=a(o("de86"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},f958:function(e,t,o){}},[["ebbc","common/runtime","common/vendor"]]]);