(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/receivingAddress"],{"042c":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=a("2f62");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var o=function(){Promise.all([a.e("common/vendor"),a.e("components/header")]).then(function(){return resolve(a("6c1c"))}.bind(null,a)).catch(a.oe)},r=function(){a.e("components/delModel").then(function(){return resolve(a("d11a"))}.bind(null,a)).catch(a.oe)},c={data:function(){return{title:"收货地址",add:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/tianjiadizhi2x.png",edtAdd:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/bianjidizhi2x.png",delAdd:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/shanchudizhi2x.png",fastTap:!0,manage:"",del:"",del_index:-1,state_manage:"",access_id:"",address:"",circle_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",circle_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehei2x.png",order_id:"",re_img:"",addre_id:"",address_m:"管理",flag:!0,lkdelModel:!1,delobj:{},text:""}},beforeDestroy:function(){},onShow:function(){var e=this,t=new Promise((function(t,a){e.LaiKeTuiCommon.getLKTApiUrl().then((function(){t(1231)}))}));t.then((function(){e.$nextTick((function(){e.$refs.lktAuthorizeComp.handleAfterAuth(e,"../login/login?landing_code=1",(function(){e._axios(),e.address_id=e.$store.state.address_id}))}))}))},onLoad:function(t){this.order_id=this.$store.state.order_id,this.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):this.$store.state.access_id,this.state_manage=t.state_manage,this.addre_id=t.addre_id,e.setStorageSync("canshu","false"),1==this.state_manage?(this.manage=!0,this.del=!1,this.re_img=!0):2==this.state_manage&&(this.manage=!1,this.del=!0,this.re_img=!1)},components:{Heads:o,lkdelModel:r},methods:i({changeLoginStatus:function(){var t=this;t.access_id=e.getStorageSync("access_id"),t._axios()},_uni_navigateTo:function(t){e.navigateTo({url:t})},_state_manage:function(t){this.addre_id=t.id;var a=this;a.$store.state.address_id=t.id,e.setStorageSync("chooseAddress",t)},_manage:function(){this.del=!this.del,this.del?this.address_m="完成":this.address_m="管理"},delAddress:function(e,t){this.delobj={addr_id:e,index:t},1==this.address[t].is_default?this.text="确认删除默认地址吗?":this.text="",this.lkdelModel=!0},_delAddress:function(){var t=this.delobj,a=t.addr_id,s=t.index;if(this.fastTap){this.fastTap=!1;var d=this,i={module:"app",action:"address",app:"del_adds",access_id:this.access_id,addr_id:a};1==this.address.length?e.request({data:i,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){d.fastTap=!0;var a=t.data.code;200==a?(d.$store.state.address_id_def="",e.setStorageSync("lkt_address_id_def",""),e.showToast({title:"删除成功",icon:"none",duration:1e3}),d._axios()):e.showToast({title:t.data.message,duration:1500,icon:"none"})}}):1==this.address[s].is_default?e.request({data:i,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){d.fastTap=!0,console.log(t);var a=t.data.code;200==a?(e.showToast({title:"删除成功",icon:"none",duration:1e3}),d.$store.state.address_id_def="",console.log("设置lkt_address_id_def为空2"),e.setStorageSync("lkt_address_id_def",""),d._axios()):(d.fastTap=!0,e.showToast({title:t.data.message,duration:1500,icon:"none"}))}}):e.request({data:i,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){d.fastTap=!0,console.log(t);var a=t.data.code;200==a?(e.showToast({title:"删除成功",icon:"none",duration:1e3}),d._axios()):e.showToast({title:t.data.message,duration:1500,icon:"none"})},error:function(e){d.fastTap=!0}}),this.lkdelModel=!1}},_addAddress:function(t){e.navigateTo({url:"addAddress?state_addre=2&addr_id="+t})},_default:function(t,a){if(this.fastTap){this.fastTap=!1;var s=this,d={module:"app",action:"address",app:"set_default",access_id:this.access_id,addr_id:t};e.request({data:d,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){s.fastTap=!0,console.log(t);var d=t.data,i=d.code;d.message;if(console.log(s.address[a].id),200==i){for(var n=0;n<s.address.length;n++)s.address[n].is_default=0;s.address[a].is_default=1,s.$store.state.address_id_def=s.address[a].id,console.log("1设置lkt_address_id_def为"+s.address[a].id)}else e.showToast({title:t.data.message,duration:1500,icon:"none"})},error:function(e){s.fastTap=!0}})}},_axios:function(){var t=this,a={module:"app",action:"address",app:"index",access_id:this.access_id};e.request({data:a,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(a){var s=a.data.adds||[];if(console.log(s),200==a.data.code){if(t.address=s,e.getStorageSync("address_default")){for(var d=0;d<s.length;d++)if(1==s[d].is_default){t.addre_id=s[d].id;break}e.removeStorageSync("address_default")}}else t.address="",e.showToast({title:a.data.message,duration:1500,icon:"none"});t.$store.state.address_id_def;if(s.length>0&&""==t.$store.state.address_id_def)if(""==t.$store.state.address_id_def)for(var i in s)1==s[i].is_default&&(t.$store.state.address_id_def=s[i].id,e.setStorageSync("lkt_address_id_def",s[i].id),t.$store.state.address_id=s[i].id);else t.$store.state.address_id_def=t.$store.state.address_id_def,e.setStorageSync("lkt_address_id_def",t.$store.state.address_id_def)}})}},(0,s.mapMutations)({address_id:"SET_ADDRESS_ID"}))};t.default=c}).call(this,a("543d")["default"])},"1cc7":function(e,t,a){"use strict";(function(e){a("a1f9");s(a("66fd"));var t=s(a("8b6f"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},"1d6a":function(e,t,a){},3767:function(e,t,a){"use strict";var s,d=function(){var e=this,t=e.$createElement;e._self._c},i=[];a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return s}))},"8b6f":function(e,t,a){"use strict";a.r(t);var s=a("3767"),d=a("c5bf");for(var i in d)"default"!==i&&function(e){a.d(t,e,(function(){return d[e]}))}(i);a("e3ee");var n,o=a("f0c5"),r=Object(o["a"])(d["default"],s["b"],s["c"],!1,null,"121eae02",null,!1,s["a"],n);t["default"]=r.exports},c5bf:function(e,t,a){"use strict";a.r(t);var s=a("042c"),d=a.n(s);for(var i in s)"default"!==i&&function(e){a.d(t,e,(function(){return s[e]}))}(i);t["default"]=d.a},e3ee:function(e,t,a){"use strict";var s=a("1d6a"),d=a.n(s);d.a}},[["1cc7","common/runtime","common/vendor"]]]);