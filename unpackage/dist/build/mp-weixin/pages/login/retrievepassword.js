(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/retrievepassword"],{"481f":function(e,t,o){"use strict";var n=o("4b4b"),i=o.n(n);i.a},"4b4b":function(e,t,o){},"910f3":function(e,t,o){"use strict";var n,i=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"b",(function(){return i})),o.d(t,"c",(function(){return a})),o.d(t,"a",(function(){return n}))},a6e8:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o("63c9");var n=function(){Promise.all([o.e("common/vendor"),o.e("components/header")]).then(function(){return resolve(o("6c1c"))}.bind(null,o)).catch(o.oe)},i={data:function(){return{phoneS:!1,fastTap:!0,del:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/delete2x.png",pwShow:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/pwShow.png",pwHide:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/pwHide.png",title:"找回密码",phone:"",phone_next:"",code_dis:!1,phone_code:"",old_phone:"",count:"",timer:null,time_code:"获取验证码",next:!0,pass:!0,pwFlag:!1,pwFlag1:!1,old_password:"",new_password:"",phone_t:"",new_password_f:"",old_password_f:"",changeStep:!1,zhanghao:"",codeBtnAllowClick:!1,isInput:!1}},onShow:function(){this.codeBtnAllowClick=!0},methods:{_seepw:function(e){1!=e?this.pwFlag1=!this.pwFlag1:this.pwFlag=!this.pwFlag},_changeStep:function(e){""!==e.detail.value?(this.isInput=!0,this.changeStep=!0):this.changeStep=!1,this.zhanghao=e.detail.value},_changeStep1:function(e){6===e.detail.value.length?(this.isInput=!1,this.changeStep=!0):this.changeStep=!1},_changeStep2:function(e){e.detail.value==this.new_password||e.detail.value==this.old_password?(this.isInput=!0,this.changeStep=!0):this.changeStep=!1},_phone_t:function(e){1==e?this.phone_t=!0:2==e?this.new_password_f=!0:3==e&&(this.old_password_f=!0)},_w_password:function(e){1==e?this.new_password_f=!0:2==e&&(this.old_password_f=!0)},_telephone:function(e,t){1==t&&(this.phone_t=!0)},_next_one:function(){var t=this;if(this.isInput){var o=this,n={module:"app",action:"login",app:"forget_zhanghao",zhanghao:this.zhanghao};e.request({data:n,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(n){console.log(n);var i=n.data,a=i.message,s=i.code,c=i.mobile;200==s?(o.next=!1,o.code_dis=!0,t.phoneS=!0,t.phone_t=!1,t.zhanghao=c,t.changeStep=!1):e.showToast({title:a,duration:1e3,icon:"none"})},error:function(e){console.log(e)}})}},_next_two:function(){if(!this.isInput){console.log(this.zhanghao);var t=this;this.fastTap&&(this.fastTap=!1,!this.phone_code&&this.code_dis?(e.showToast({title:"验证码不能为空！",duration:1500,icon:"none"}),setTimeout((function(){t.fastTap=!0}),1500)):6!=this.phone_code.length?(e.showToast({title:"验证码输入错误！",duration:1500,icon:"none"}),setTimeout((function(){t.fastTap=!0}),1500)):6==this.phone_code.length&&this.phoneS&&e.request({data:{module:"app",action:"login",app:"forget_code",phone:t.zhanghao,keyCode:t.phone_code},url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(o){var n=o.data,i=n.code,a=n.message;console.log(o,i),200==i?(t.title="重置密码",t.changeStep=!1,t.pass=!1):e.showToast({title:a,duration:1500,icon:"none"}),setTimeout((function(){t.fastTap=!0}),1500)},error:function(){t.fastTap=!0}}))}},_empty:function(e){1==e?this.zhanghao="":2==e?this.new_password="":3==e&&(this.old_password="")},_newpassword:function(){var t=/^[a-z0-9]{6,15}$/i;if(""!=this.new_password){if(this.rez=t.test(this.new_password),1==this.rez)return 1;e.showToast({title:"请输入6-15位数字或字母账号！",duration:2e3,icon:"none"})}},_next_three:function(){if(this.isInput){var t=this._newpassword();console.log(t);if(1==t)if(this.old_password==this.new_password&&""!=this.new_password&&6==this.phone_code.length){var o={module:"app",action:"login",app:"forgotpassword",phone:this.zhanghao,password:this.new_password,keyCode:this.phone_code};e.request({data:o,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(t);var o=t.data,n=o.message,i=o.code;200==i?(e.showToast({title:n,icon:"none",duration:1e3}),setTimeout((function(){e.redirectTo({url:"login?toHome=true"})}),1e3)):e.showToast({title:n,icon:"none"})},error:function(e){console.log(e)}})}else e.showToast({title:"两次密码输入不一致，请重新输入！",duration:1e3,icon:"none"});else e.showToast({title:"密码格式错误！",duration:1e3,icon:"none"})}},_code:function(){var t=this;if(t.codeBtnAllowClick){t.codeBtnAllowClick=!1;var o={module:"app",action:"user",app:"secret_key",phone:this.zhanghao};console.log(o),e.request({data:o,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(o){var n=o.data,i=n.code,a=n.message;if(220==i)e.showToast({title:a,duration:1e3,icon:"none"});else if(200==i){t.phoneS=!0;var s=60;t.timer||(t.count=s,t.timer=setInterval((function(){t.count>0&&t.count<=s?(t.count--,t.time_code="".concat(t.count,"s后可重获")):(clearInterval(t.timer),t.time_code="获取验证码",t.timer=null,t.count="",t.codeBtnAllowClick=!0)}),1e3))}else e.showToast({title:"获取验证码失败，请稍后再试。",duration:1e3,icon:"none"})},error:function(e){console.log(e)}})}else console.log("正在获取验证码..")}},components:{heads:n}};t.default=i}).call(this,o("543d")["default"])},b032:function(e,t,o){"use strict";(function(e){o("a1f9");n(o("66fd"));var t=n(o("dfca"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},dfca:function(e,t,o){"use strict";o.r(t);var n=o("910f3"),i=o("f884");for(var a in i)"default"!==a&&function(e){o.d(t,e,(function(){return i[e]}))}(a);o("481f");var s,c=o("f0c5"),r=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"e35b70a2",null,!1,n["a"],s);t["default"]=r.exports},f884:function(e,t,o){"use strict";o.r(t);var n=o("a6e8"),i=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);t["default"]=i.a}},[["b032","common/runtime","common/vendor"]]]);