(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/collection/collection"],{"05da":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("2f62");function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s={data:function(){return{back:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/back2x.png",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",noCol:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/noCol.png",toImage:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",collection:[],collection1:[],state:"编辑",statevalue:!1,selectvalue:"",selectvalue1:"",selectAll:"",selectAll1:"",selectArray:[],selectArray1:[],deletecolle:{},access_id:"",quan_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",quan_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehei2x.png",display_img:[],display_img1:[],flag:!0,fastTap:!0,navActive:!0,navType:1,loadFlag:!1}},onLoad:function(){this.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):this.$store.state.access_id,this.navType=1,this._axios()},onShow:function(){var e=this,t=new Promise((function(t,i){e.LaiKeTuiCommon.getLKTApiUrl().then((function(){t(1231)}))}));t.then((function(){e.$nextTick((function(){e.$refs.lktAuthorizeComp.handleAfterAuth(e,"../login/login?landing_code=1",(function(){e._axios()}))}))}))},computed:{halfWidth:function(){var t=e.getStorageSync("data_height")?e.getStorageSync("data_height"):this.$store.state.data_height,i=parseInt(t);return i+"px"}},methods:n({changeLoginStatus:function(){var t=this;t.access_id=e.getStorageSync("access_id"),t._axios()},_goStore:function(t){console.log("shop_id---------"+JSON.stringify(t)),e.navigateTo({url:"../../pagesA/store/store?shop_id="+t.mch_id})},_find:function(t){this.pro_id(t),e.navigateTo({url:"discover?pro_id="+t})},_back:function(){this.flag=!1,e.navigateBack({delta:1})},_state:function(){this.collection1.length||this.collection.length?(this.selectAll="",this.selectAll1="",this.statevalue=!this.statevalue,this.statevalue?this.state="完成":this.state="编辑"):(this.statevalue=!this.statevalue,this.statevalue?this.state="完成":this.state="编辑")},_axios:function(){var t=this,i={module:"app",action:"addFavorites",app:"collection",access_id:this.access_id,pro_id:this.pro_id,type:this.navType};e.request({data:i,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(i){t.loadFlag=!0,200==i.data.code?1==t.navType?t.collection1=i.data.data:t.collection=i.data.data:(t.collection="",e.showToast({title:i.data.message,duration:1500,icon:"none"}))}})},changeNav:function(e,t){var i=this;i.navActive=e,i.navType=t,this.loadFlag=!1,i._axios()},_checkedOne:function(e,t){var i=this;if(1==i.navType){var a=i.selectArray1.indexOf(e);if(i.statevalue){i.$refs.img;a<0?(i.selectArray1.push(e),i.$set(i.display_img1,t,!0)):(i.selectArray1.splice(a,1),i.$set(i.display_img1,t,!1)),i.selectArray1.length==i.collection1.length?i.selectAll1=!0:i.selectAll1=!1}}else{a=i.selectArray.indexOf(e);if(i.statevalue){i.$refs.img;a<0?(i.selectArray.push(e),i.$set(i.display_img,t,!0)):(i.selectArray.splice(a,1),i.$set(i.display_img,t,!1)),i.selectArray.length==i.collection.length?i.selectAll=!0:i.selectAll=!1}}},_selectHandle:function(e){var t=this;e.selectAll1=!e.selectAll1;t.$refs.img;if(e.selectAll1)for(var i=0;i<e.collection1.length;i++)t.$set(e.selectArray1,i,e.collection1[i]),t.$set(e.display_img1,i,!0);else{e.selectArray1=[];for(i=0;i<e.collection1.length;i++)t.$set(e.display_img1,i,!1)}return e},_selectAll:function(){var e=this;if(1==this.navType){var t={selectAll1:e.selectAll1,display_img1:e.display_img1,selectArray1:e.selectArray1,collection1:e.collection1};t=this._selectHandle(t),e.selectAll1=t.selectAll1}else{t={selectAll1:e.selectAll,display_img1:e.display_img,selectArray1:e.selectArray,collection1:e.collection};t=this._selectHandle(t),e.selectAll=t.selectAll1}},_delete:function(){var t=this;if(this.fastTap)if(this.fastTap=!1,this.selectArray1.length||this.selectArray.length){t.deletecolle.collection="",t.deletecolle.access_id=t.access_id,1==t.navType?this.selectArray1.forEach((function(e,i){t.deletecolle.collection+=e.id+","})):this.selectArray.forEach((function(e,i){t.deletecolle.collection+=e.id+","}));var i=t.deletecolle;e.request({data:i,url:e.getStorageSync("url")+"&module=app&action=addFavorites&app=removeFavorites",header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(i){t.fastTap=!0;var a=[],l=[];if(200==i.data.code){var n=t.deletecolle.collection;for(var o in n)1==t.navType?(t.selectArray1.forEach((function(e,t){n[o]!=e.id&&a.push(e)})),t.selectArray1=a):(t.selectArray.forEach((function(e,t){n[o]!=e.id&&l.push(e)})),t.selectArray=l);t.display_img1=[];for(var s=0;s<t.collection1.length;s++)t.display_img1.push(!1);t.display_img=[];for(s=0;s<t.collection.length;s++)t.display_img.push(!1);e.showToast({title:i.data.message,duration:1500,icon:"none",success:function(){setTimeout((function(){t.collection=[],t.collection1=[],t._axios(),t.selectArray1=[],t.statevalue=!t.statevalue,t.state="编辑"}),1500)}})}else e.showToast({title:i.data.message,duration:1500,icon:"none"});for(s=0;s<t.display_img.length;s++)t.$set(t.display_img1,s,!1)},error:function(){t.fastTap=!0}})}else this.fastTap=!0,e.showToast({title:"请选择需要删除的商品！",duration:1e3,icon:"none"})},_goods:function(t){this.pro_id(t),e.navigateTo({url:"../goods/goodsDetailed"})}},(0,a.mapMutations)({pro_id:"SET_PRO_ID"})),components:{}};t.default=s}).call(this,i("543d")["default"])},"29f3":function(e,t,i){"use strict";i.r(t);var a=i("8147"),l=i("b8d2");for(var n in l)"default"!==n&&function(e){i.d(t,e,(function(){return l[e]}))}(n);i("dde9");var o,s=i("f0c5"),c=Object(s["a"])(l["default"],a["b"],a["c"],!1,null,"c8be15bc",null,!1,a["a"],o);t["default"]=c.exports},4831:function(e,t,i){},8147:function(e,t,i){"use strict";var a,l=function(){var e=this,t=e.$createElement;e._self._c},n=[];i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}))},"88b7":function(e,t,i){"use strict";(function(e){i("a1f9");a(i("66fd"));var t=a(i("29f3"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},b8d2:function(e,t,i){"use strict";i.r(t);var a=i("05da"),l=i.n(a);for(var n in a)"default"!==n&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=l.a},dde9:function(e,t,i){"use strict";var a=i("4831"),l=i.n(a);l.a}},[["88b7","common/runtime","common/vendor"]]]);