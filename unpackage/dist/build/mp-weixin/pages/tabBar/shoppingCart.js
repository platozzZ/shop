(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/shoppingCart","components/bottom"],{"16bb":function(t,e,s){"use strict";s.r(e);var i=s("a7b2"),o=s("738d");for(var a in o)"default"!==a&&function(t){s.d(e,t,(function(){return o[t]}))}(a);s("61f4");var n,r=s("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"362126d2",null,!1,i["a"],n);e["default"]=c.exports},4780:function(t,e,s){},"56d3":function(t,e,s){"use strict";(function(t){s("a1f9");i(s("66fd"));var e=i(s("16bb"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,s("543d")["createPage"])},"61f4":function(t,e,s){"use strict";var i=s("910f"),o=s.n(i);o.a},"738d":function(t,e,s){"use strict";s.r(e);var i=s("973b"),o=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"910f":function(t,e,s){},"973b":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("2f62"),o=s("b206");a(s("edf7"));function a(t){return t&&t.__esModule?t:{default:t}}function n(t){return h(t)||l(t)||c(t)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t,e){if(t){if("string"===typeof t)return u(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(s):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?u(t,e):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function h(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function g(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){p(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function p(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var m=function(){s.e("components/maskM").then(function(){return resolve(s("79a9"))}.bind(null,s)).catch(s.oe)},_=function(){s.e("components/lktauthorize").then(function(){return resolve(s("cc2e"))}.bind(null,s)).catch(s.oe)},f={data:function(){return{numb:1,access_id1:!1,nrlflag:!1,shopImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/shopping2x.png",closeImg:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/guanbi2x.png",loadGif:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/loading.gif",kong:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/shopping3x.png",jianX:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jianX.png",jiantou2x:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",store:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/store.png",bottom:3,quan_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/xuanzehui2x.png",quan_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/xuanzehei2x.png",jian_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jianhui2x.png",jian_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jian2x.png",jia_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jia+2x.png",jia_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/add+2x.png",manage:!0,manage_text:"编辑",manage_pay:"去结算",content:"确认删除选中的商品吗？",mask_value:"",display:!1,display_img1:[],display_img:[],selectArray:[],selectStore:[],selectStoreArray:[],storeArray:[],goods:[],selectAll:!1,access_id:"",load:!0,mask_display:!1,mask_display1:!1,attribute_id:"",attrList:"",skuBeanList:"",num:"",price:"",imgurl:"",haveSkuBean:"",shopping_id:"",jia_img:[],list:[],mch_list:[],fastTap:!0}},onLoad:function(){this.access_id=t.getStorageSync("access_id")?t.getStorageSync("access_id"):this.$store.state.access_id;var e=t.getStorageSync("needRegister");this.nrlflag=e==this.LaiKeTuiCommon.LKT_NRL_TYPE.NRL},onTabItemTap:function(t){this.LaiKeTuiCommon.closeMPAuthWin(this)},onShow:function(){t.showTabBar(),this.display=!1;var e=this;e.LaiKeTuiCommon.getUrlFirst(e._axios),this.access_id=t.getStorageSync("access_id")?t.getStorageSync("access_id"):this.$store.state.access_id;var s=t.getStorageSync("needRegister");this.nrlflag=s==this.LaiKeTuiCommon.LKT_NRL_TYPE.NRL;for(var i=0;i<this.goods.length;i++)this.display_img[i]=!1;this.selectArray=[];for(i=0;i<this.mch_list.length;i++)this.display_img1[i]=!1;this.selectStore=[],this.manage_text="编辑",this.manage_pay="去结算",this.selectAll=!1,this.manage=!0,Array.prototype.indexf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.upxove=function(t){var e=this.indexf(t);e>-1&&this.splice(e,1)}},methods:g({toStore:function(e){console.log(11),t.navigateTo({url:"../../pagesA/store/store?shop_id="+e})},changeLoginStatus:function(){var t=this;t.access_id=t.$store.state.access_id,t._axios()},changeStock:function(e){this.haveSkuBean?1==e?this.numb>1?this.numb--:this.numb:2==e&&(this.numb<Number(this.num)?this.numb++:t.showToast({title:"已经超过购买限额",duration:1e3,icon:"none"})):t.showToast({title:"请先选择商品规格",duration:1e3,icon:"none"})},_shopping:function(e){var s=this,i=this;if(this.haveSkuBean){var o={module:"app",action:"product",app:"add_cart",pro_id:this.proid,attribute_id:this.haveSkuBean.cid,num:this.numb,type:"addcart",access_id:this.$store.state.access_id};t.request({data:o,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){console.log(e);var o=e.data,a=o.code,n=o.data,r=o.message;console.log(a,r),200==a?(t.showToast({title:"添加成功，在购物车等您哦~",duration:1e3,icon:"none"}),i.access_id=n.access_id,i.$store.state.access_id=n.access_id,s.fastTap=!0,i._axios(),i.haveSkuBean="",i._mask_f()):(console.log(r),s.fastTap=!0)},error:function(t){console.log(t),this.fastTap=!0}})}else console.log(i.haveSkuBean),this._mask_display(),this.fastTap=!0},shopping_j:function(e){var s=this;if(console.log(this.fastTap),this.fastTap){this.fastTap=!1,this.proid=e;var i={module:"app",action:"product",app:"index",pro_id:e};t.request({data:i,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){s.fastTap=!0,console.log(t);var e=t.data.data,i=(e.collection_id,e.pro),o=(e.comments,e.attrList),a=e.skuBeanList,n=e.qj_price,r=e.type;s.ys_price=n,s.price=n,s.attrList=o,console.log(s.attrList),s.skuBeanList=a,s.collection=r,s.imgurl=i.img_arr[0],s.num=i.num,s._spec(),s.mask_display1=!0,s.numb=1},error:function(t){console.log(t),s.fastTap=!0}})}},_goods:function(e){this.$store.commit("SET_PRO_ID",e),console.log(this.$store.state.pro_id),t.navigateTo({url:"../goods/goodsDetailed"})},toLogin:function(){t.navigateTo({url:"../login/login?landing_code=1"})},toHome:function(){t.switchTab({url:"../tabBar/home"})},_mask_display:function(e,s,i,o,a){console.log(a),this.shopping_id=o,this.haveSkuBean="";var n=this;this.mask_display=!0;var r={module:"app",action:"cart",app:"dj_attribute",access_id:this.access_id,pro_id:o};this.access_id,r.cart_id=o,t.request({data:r,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(t);var e,s=t.data.data;console.log(s),n.attrList=s[0].attrList,n.skuBeanList=s[0].skuBeanList,n._spec(),console.log(n.skuBeanList);for(var i=0;i<n.skuBeanList.length;i++)n.skuBeanList[i].cid==a&&(e=i);n._first(e),console.log(e)}})},_first:function(t){for(var e=this.attrList,s=this.skuBeanList,i=s[t],o=0;o<e.length;o++)for(var a=0;a<e[o].attr.length;a++)for(var n=0;n<i.attributes.length;n++)i.attributes[n].attributeId==e[o].attr[a].attributeId&&i.attributes[n].attributeValId==e[o].attr[a].id&&(e[o].attr[a].select=!0);this.price=i.price,this.imgurl=i.imgurl,this.num=i.count,this.haveSkuBean=i,console.log(i)},_mask_f:function(){this.haveSkuBean="",this.mask_display1=!1},_mask_false:function(){this.mask_display=!1},_confirm1:function(){this.fastTap&&(this.fastTap=!1,Boolean(this.haveSkuBean)?0==this.num?(t.showToast({title:"库存不足",duration:1e3,icon:"none"}),this.fastTap=!0):0!=this.num&&this._shopping():0==this.num?(t.showToast({title:"库存不足",duration:1e3,icon:"none"}),this.fastTap=!0):(t.showToast({title:"请选择完整的商品规格！",duration:1e3,icon:"none"}),this.fastTap=!0),console.log(this.haveSkuBean))},_confirm:function(e){if(0!=e){var s=this;if(Boolean(this.haveSkuBean)){var i={module:"app",action:"cart",app:"modify_attribute",access_id:this.access_id,cart_id:this.shopping_id,attribute_id:this.haveSkuBean.cid};console.log(this.haveSkuBean),t.request({data:i,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){console.log(t);var e=t.data,i=e.code,o=e.message;console.log(i,o),200==i?(s._mask_false(),s._axios()):console.log(o)}})}else t.showToast({title:"请选择完整的商品规格！",duration:1e3,icon:"none"})}else t.showToast({title:"该产品规格库存不足！",duration:1e3,icon:"none"})},_spec:function(){for(var t=this,e=t.attrList,s=t.skuBeanList,i=0;i<e.length;i++){for(var o=e[i],a=[],n=0;n<e.length;n++){var r=e[n];if(r.id!=o.id)for(var c=0;c<r.attr.length;c++){var l=r.attr[c];l.enable&&l.select&&a.push(l)}}for(var h=[],u=0;u<s.length;u++){var d=!0,g=s[u];for(n=0;n<a.length;n++){var p=!1;for(c=0;c<g.attributes.length;c++){var m=g.attributes[c];if(a[n].attributeId==m.attributeId&&a[n].id==m.attributeValId){p=!0;break}}d=p&&d}if(d)for(var _=0;_<g.attributes.length;_++){m=g.attributes[_];o.id==m.attributeId&&h.push(m.attributeValId)}}for(var f=0;f<o.attr.length;f++){var y=o.attr[f];y.enable=Number(s[f].count)}}t.attrList=e,t.skuBeanList=s},showState:function(t,e,s,i){console.log(t,e);var o=this.attrList,a=o[e],n=a.attr[t];if(console.log(n),n.enable){console.log(n.enable,n.select);for(var r=!n.select,c=0;c<a.attr.length;c++)a.attr[c].select=!1;n.select=r;for(var l=[],h=0;h<o.length;h++)for(var u=0;u<o[h].attr.length;u++)o[h].attr[u].enable&&o[h].attr[u].select&&l.push(o[h].attr[u]);for(var d=this.skuBeanList,g=[],p=0;p<d.length;p++){for(var m=0,_=0;_<d[p].attributes.length;_++)l.length==d[p].attributes.length?d[p].attributes[_].attributeValId==l[_].id&&m++:"库存清单不存在此属性 ";m==d[p].attributes.length&&g.push(d[p])}for(var f=0;f<l.length;f++)l[f].attributeValue+" ";console.log(g),0!=g.length?(console.log(g[0]),this.num=g[0].count,this.price=g[0].price,this.imgurl=g[0].imgurl,this.haveSkuBean=g[0]):(s?this.num=s:this.goods.length>1?this.num=this.goods[t]?this.goods[t].stock:"":this.skuBeanList&&(this.num=this.skuBeanList[t].count),i?this.price=i:this.goods.length>1?this.num=this.goods[t]?this.goods[t].price:"":this.skuBeanList,this.haveSkuBean=""),this.attrList=o,this._spec()}else console.log("return")},_axios:function(){var e=this,s=this;this.goods=[],s.load||t.showLoading({title:"请稍后..."});var i={module:"app",action:"cart",app:"index",cart_id:s.$store.state.nCart};this.access_id?i.access_id=this.access_id:i.access_id="",t.request({data:i,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(i){s.load||t.hideLoading();var o,a=i.data,r=a.code,c=a.data,l=a.list,h=a.mch_list,u=a.login_status;a.message;(0!=u?(console.log("login_status!=0"),s.access_id1=!0):(console.log("login_status!=0else"),s.access_id1=!1),404==i.data.code&&(console.log("res.data.code==404"),s.access_id1=!1),200==r)?((o=s.goods).push.apply(o,n(c)),s.list=l,s.mch_list=h,e._cartAllNum(),e._productDividedByStore(),console.log("goods"),console.log(e.goods),console.log("mch_list"),console.log(e.mch_list)):s.goods=[];s.load=!1},error:function(t){console.log(t,123)}})}},(0,i.mapMutations)({cart_id:"SET_CART_ID",pro_id:"SET_PRO_ID",order_id:"SET_ORDER_ID",address_id:"SET_ADDRESS_ID",cart_num:"SET_CART_NUM"}),{_reduce:function(e,s){this.goods[e].num;if(this.goods[e].num<=1)return this.goods[e].num=1,t.showToast({title:"该宝贝不能减少了哟！",duration:1e3,icon:"none"}),!1;this.goods[e].num--,this._munajax(this.goods[e].num,s),this._cartAllNum()},_add:function(e,s,i){console.log(this.num,s);var o=this.num?this.num:s;Number(this.goods[e].num)<Number(o)?(this.goods[e].num++,this._munajax(this.goods[e].num,i),this.jia_img=!0,this._cartAllNum()):(this.jia_img=!1,t.showToast({title:"数量已达到上线哦！",duration:1e3,icon:"none"}))},in_array:function(t,e){for(var s=0;s<e.length;s++){var i=e[s].toString();if(i==t)return!0}return!1},_munajax:function(e,s){var i={num:e,cart_id:Number(s)},o={module:"app",action:"cart",app:"up_cart",access_id:this.access_id,goods:JSON.stringify(i)};console.log(o),t.request({data:o,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){}})},_manage:function(){this.manage=!this.manage,this.manage?(this.manage_text="编辑",this.manage_pay="去结算"):(this.manage_text="完成",this.manage_pay="删除商品")},_mask_value:function(e){t.showTabBar();var s=this;this.mask_value=e;for(var i=[],o="",a=0;a<this.selectArray.length;a++)i.push(Number(this.selectArray[a].id)),o=o+Number(this.selectArray[a].id)+",";if("取消"==e)this.display=!1;else if("删除商品"==this.manage_pay&&"确认"==this.mask_value){var n={module:"app",action:"cart",app:"delcart",access_id:this.access_id};n["cart_id"]=i,s.display_img1=[],console.log("删除商品",n),t.request({data:n,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(e){200!=e.data.code&&t.showToast({title:e.data.err,duration:1500,icon:"none"}),console.log(e),s.manage_text="编辑",s.manage_pay="去结算",s.manage=!0,s.selectAll=!1,s.selectArray=[];for(var o=0;o<s.goods.length;o++)s.$set(s.display_img,o,!1);for(o=0;o<i.length;o++){var a=s.$store.state.nCart.indexOf(i[o]);a>-1&&s.$store.state.nCart.splice(a,1)}console.log(s.$store.state.nCart),s.display=!1,s._axios(),s._cartAllNum()}})}else console.log(5)},_delete:function(){console.log("删除商品");var e=this;"删除商品"==this.manage_pay&&this.selectArray.length>0?(this.display=!0,t.hideTabBar()):"删除商品"==this.manage_pay&&t.showToast({title:"请选择您需要删除的商品！",duration:1e3,icon:"none"}),"去结算"==this.manage_pay&&this.selectArray.length>0?e.$refs.lktAuthorizeComp.handleAfterAuth(e,"../login/login?landing_code=1",(function(){for(var s=[],i=[],o=0;o<e.selectArray.length;o++)s.push(e.selectArray[o].id),i.push({num:e.selectArray[o].num,cart_id:Number(e.selectArray[o].id)});var a={module:"app",action:"cart",app:"up_cart",goods:JSON.stringify(i),access_id:e.access_id};console.log(i),t.request({data:a,url:t.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(i){if(404==i.data.code)return console.log("支付发生异常"),void t.showToast({title:"支付发生异常!",icon:"none",duration:1e3});console.log(i),200==i.data.code?(e.$store.state.cart_id=s,e.cart_id(s),e.order_id(""),e.address_id(""),t.navigateTo({url:"../pay/orderDetailsr?cart_id="+s+"&canshu=true&returnR=1"})):(t.showToast({title:"库存不足!",icon:"none",duration:1e3}),setTimeout((function(){e._axios(),e.access_id=t.getStorageSync("access_id")?t.getStorageSync("access_id"):e.$store.state.access_id;for(var s=0;s<e.goods.length;s++)e.display_img[s]=!1;e.selectArray=[]}),1e3),e.selectAll=!1)}})})):"去结算"==this.manage_pay&&t.showToast({title:"请选择您需要购买的商品！",duration:1e3,icon:"none"})},_checkedOne:function(e,s,i,o){console.log("单选"),Array.prototype.indexf=function(t){for(var e=0;e<this.length;e++)if(this[e]==t)return e;return-1},Array.prototype.upxove=function(t){var e=this.indexf(t);e>-1&&this.splice(e,1)};var a=this.selectArray.indexOf(e);if("删除商品"==this.manage_pay?a<0?(this.selectArray.push(e),this.$set(this.display_img,s,!0)):(this.selectArray.upxove(e),this.$set(this.display_img,s,!1)):"去结算"==this.manage_pay&&(a<0&&e.stock>0?(this.selectArray.push(e),this.$set(this.display_img,s,!0)):a>=0&&e.stock>0?(this.selectArray.upxove(e),this.$set(this.display_img,s,!1)):t.showToast({title:"该商品库存不足！",duration:1e3,icon:"none"})),this.selectArray.length==this.goods.length?this.selectAll=!0:this.selectAll=!1,e.mch_id==i.id){this.selectStoreArray[o]||(this.selectStoreArray[o]=[]);var n=this.selectStoreArray[o].indexOf(e);n<0?this.selectStoreArray[o].push(e):this.selectStoreArray[o].upxove(e);var r=this.selectStore.indexOf(i);console.log("单选所选的店铺和店铺所有内容是否相等",this.selectStoreArray[o].length==this.storeArray[o].children.length),console.log("这店铺是否被选",r),this.selectStoreArray[o].length==this.storeArray[o].children.length?r<0&&(this.$set(this.display_img1,o,!0),this.selectStore.push(i),console.log("单选店铺加1"),console.log("单选店铺加1后的selectStorexxxxxxx"),console.log(this.selectStore)):r>=0&&(this.$set(this.display_img1,o,!1),this.selectStore.upxove(i),console.log("单选店铺-1"),console.log("单选店铺-1后的selectStorexxxxxxx"),console.log(this.selectStore))}},_selectAll:function(){for(var e=[],s=0;s<this.goods.length;s++)this.goods[s].stock>0&&e.push(1);if("删除商品"==this.manage_pay)if(this.selectAll=!this.selectAll,this.selectAll){for(s=0;s<this.goods.length;s++)this.$set(this.selectArray,s,this.goods[s]),this.$set(this.display_img,s,!0);if(this.mch_list){console.log("全选店铺操作1");for(s=0;s<this.mch_list.length;s++)if(this.$set(this.selectStore,s,this.mch_list[s]),this.$set(this.display_img1,s,!0),this.storeArray.children&&this.storeArray[s].children)for(var i=0;i<this.storeArray[s].children.length;i++)this.selectStoreArray[s]||(this.selectStoreArray[s]=[]),this.$set(this.selectStoreArray[s],i,this.storeArray[s].children[i])}}else{this.selectArray=[];for(s=0;s<this.goods.length;s++)this.$set(this.display_img,s,!1);if(this.selectStore=[],this.selectStoreArray=[],this.storeArray)for(s=0;s<this.storeArray.length;s++)this.$set(this.display_img1,s,!1)}else if("去结算"==this.manage_pay)if(e.length==this.goods.length)if(this.selectAll=!this.selectAll,this.selectAll){for(s=0;s<this.goods.length;s++)this.$set(this.selectArray,s,this.goods[s]),this.$set(this.display_img,s,!0);if(this.mch_list){console.log("全选店铺操作1");for(s=0;s<this.mch_list.length;s++)if(this.$set(this.selectStore,s,this.mch_list[s]),this.$set(this.display_img1,s,!0),this.storeArray[s].children)for(i=0;i<this.storeArray[s].children.length;i++)this.selectStoreArray[s]||(this.selectStoreArray[s]=[]),this.$set(this.selectStoreArray[s],i,this.storeArray[s].children[i])}console.log("全选 选择店铺 selectStore"),console.log(this.selectStore),console.log("全选3 selectStoreArray"),console.log(this.selectStoreArray)}else{this.selectArray=[];for(s=0;s<this.goods.length;s++)this.$set(this.display_img,s,!1);if(this.selectStore=[],this.selectStoreArray=[],this.storeArray)for(s=0;s<this.storeArray.length;s++)this.$set(this.display_img1,s,!1)}else t.showToast({title:"商品库存不足，不能进行该项操作！",duration:1e3,icon:"none"})},_selectAllStore:function(t,e){console.log("store");var s=this.mch_list[e].id,i=this.selectStore.indexOf(t);if(i<0){for(var o=0;o<this.goods.length;o++){var a=this.selectArray.indexOf(this.goods[o]);s==this.goods[o].mch_id&&(console.log("添加店铺cum",a),a<0&&(this.selectArray.push(this.goods[o]),this.$set(this.display_img,o,!0),this.selectStoreArray[e]||(this.selectStoreArray[e]=[]),this.selectStoreArray[e].push(this.goods[o])))}this.selectStore.push(t),console.log("总选店铺加1"),this.$set(this.display_img1,e,!0),console.log("全黑"),console.log("总选slectArray"),console.log(this.selectArray)}else{for(o=0;o<this.goods.length;o++){a=this.selectArray.indexOf(this.goods[o]);s==this.goods[o].mch_id&&(console.log("取消店铺cum",a),a>=0&&(console.log(this.selectArray),console.log(this.goods[o]),this.selectArray.upxove(this.goods[o]),this.$set(this.display_img,o,!1),this.selectStoreArray[e]||(this.selectStoreArray[e]=[]),this.selectStoreArray[e].upxove(this.goods[o])))}this.selectStore.upxove(t),console.log("总选店铺-1"),this.$set(this.display_img1,e,!1),console.log("全灰")}console.log("总选后的selectStore---------------"),console.log(this.selectStore),console.log("总选后的selectStoreArray---------------"),console.log(this.selectStoreArray),this.selectArray.length==this.goods.length?this.selectAll=!0:this.selectAll=!1},_productDividedByStore:function(){if(console.log("按店铺分商品"),this.mch_list&&this.goods)for(var t=0;t<this.mch_list.length;t++){this.storeArray[t]||(this.storeArray[t]=[]),this.storeArray[t].push(this.mch_list[t]),this.storeArray[t].children||(this.storeArray[t].children=[]);for(var e=0;e<this.goods.length;e++)this.mch_list[t].id==this.goods[e].mch_id&&this.storeArray[t].children.push(this.goods[e])}console.log(this.storeArray)},_goodsDetailed:function(e){this.pro_id(e),console.log(e),t.navigateTo({url:"../goods/goodsDetailed"})},_cartAllNum:function(){var e=this.goods;if(e&&e.length){for(var s=0,i=0;i<e.length;i++)s+=Number(e[i].num);this.cart_num(s)}else 0==e.length&&this.cart_num(0);if(this._cart_num){var o=String(this._cart_num);t.setTabBarBadge({index:2,text:o})}else t.removeTabBarBadge({index:2})}}),computed:g({count:function(){for(var t=0,e=0;e<this.selectArray.length;e++)console.log(Number(this.selectArray[e].num)),t+=Number(this.selectArray[e].num);return t},h5Height:function(){var t;return t="0upx",t},h5Height1:function(){var t;return t="100upx",t},halfWidth:function(){var e=(0,o.getStorage)("data_height")?(0,o.getStorage)("data_height"):this.$store.state.data_height,s=parseInt(e);s=0;var i=2*s;return t.upx2px(i)+"px"},total:function(){for(var t=0,e=0;e<this.selectArray.length;e++)this.selectArray[e]&&(t+=new Number(this.selectArray[e].price)*parseInt(this.selectArray[e].num));return t.toFixed(2)}},(0,i.mapState)({_cart_num:"cart_num"})),components:{lktauthorize:_,maskM:m}};e.default=f}).call(this,s("543d")["default"])},a7b2:function(t,e,s){"use strict";var i,o=function(){var t=this,e=t.$createElement;t._self._c},a=[];s.d(e,"b",(function(){return o})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}))},bc75:function(t,e,s){"use strict";s.r(e);var i=s("d822"),o=s.n(i);for(var a in i)"default"!==a&&function(t){s.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},c555:function(t,e,s){"use strict";var i=s("4780"),o=s.n(i);o.a},d822:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("2f62");function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){n(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function n(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var r={data:function(){return{home:!0,shopping:!1,go_shopping:!1,my:!1,home_1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/home2x.png",home_2:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/home22x.png",shopping_1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/shopping2x.png",shopping_2:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/shopping22x.png",go_shopping_1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/go_shopping2x.png",go_shopping_2:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/go_shopping22x.png",my_1:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/my2x.png",my_2:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/my22x.png",index:""}},props:["bottom"],onLoad:function(t){},mounted:function(){this._bottom()},methods:a({a:function(e,s){this.$store.state.tabIndex!=s&&(this.tabIndex(s),t.navigateTo({url:e}))}},(0,i.mapMutations)({tabIndex:"SET_TAB_INDEX"}),{_bottom:function(){1==this.$store.state.tabIndex?(this.home=!0,this.shopping=!1,this.go_shopping=!1,this.my=!1):2==this.$store.state.tabIndex?(this.go_shopping=!0,this.home=!1,this.shopping=!1,this.my=!1):3==this.$store.state.tabIndex?(this.shopping=!0,this.home=!1,this.go_shopping=!1,this.my=!1):4==this.$store.state.tabIndex&&(this.my=!0,this.home=!1,this.go_shopping=!1,this.shopping=!1),console.log("as4d654as65d4")}})};e.default=r}).call(this,s("543d")["default"])},edf7:function(t,e,s){"use strict";s.r(e);var i=s("f487"),o=s("bc75");for(var a in o)"default"!==a&&function(t){s.d(e,t,(function(){return o[t]}))}(a);s("c555");var n,r=s("f0c5"),c=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,"16e9cd74",null,!1,i["a"],n);e["default"]=c.exports},f487:function(t,e,s){"use strict";var i,o=function(){var t=this,e=t.$createElement;t._self._c},a=[];s.d(e,"b",(function(){return o})),s.d(e,"c",(function(){return a})),s.d(e,"a",(function(){return i}))}},[["56d3","common/runtime","common/vendor"]]]);