(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"02d9":function(e,t,o){"use strict";o.r(t);var n=o("308e"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},"0445":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("2f62");function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){s(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var c={data:function(){return{abs:"123",access_id:!1}},onLaunch:function(t){var o=this;e.getSystemInfo({success:function(t){var n=t.statusBarHeight;e.setStorageSync("data_height",n),o.data_height(n)}});var n=null;n=o.gd(),n&&n.then((function(e){o.geturl(e)}))},onShow:function(){},onLoad:function(){console.log("App onReady")},onHide:function(){console.log("App Hide")},methods:i({gd:function(){var t=this;return new Promise((function(o,n){e.getExtConfig({success:function(e){e.extConfig.url?t.$store.state.url=e.extConfig.url:t.$store.state.url=t.LaiKeTuiCommon.LKT_API_URL,t.$store.state.url=t.$store.state.url+"store_type=1";var n=t.$store.state.url;console.log("app拼接url",n),o(n)},error:function(e){console.log(e,2),n(e)}})}))},geturl:function(t){var o=this;console.log("app.vue请求路劲为",t);var n={module:"app",action:"url",app:"geturl",get:"mini_url,H5,endurl"};e.request({data:n,url:t,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){200==t.data.code?(o.$store.state.url=t.data.url.mini_url,o.$store.state.h5_url=t.data.url.H5,o.$store.state.endurl=t.data.url.endurl):(o.$store.state.url=o.LaiKeTuiCommon.LKT_API_URL,o.$store.state.h5_url=o.LaiKeTuiCommon.LKT_H5_DEFURL,o.$store.state.endurl=o.LaiKeTuiCommon.LKT_ENDURL),o.$store.state.url=o.$store.state.url+"&store_type=1",e.setStorageSync("url",o.$store.state.url),e.setStorageSync("h5_url",o.$store.state.h5_url),e.setStorageSync("endurl",o.$store.state.endurl)},fail:function(e){console.log(e)}})}},(0,n.mapMutations)({data_height:"SET_DATA_HEIGHT"}))};t.default=c}).call(this,o("543d")["default"])},"051c":function(e,t,o){"use strict";o.r(t);var n=o("ebb9");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);o("7865");var i,s,c,r,u=o("f0c5"),l=Object(u["a"])(n["default"],i,s,!1,null,null,null,!1,c,r);t["default"]=l.exports},"150b":function(e,t,o){"use strict";(function(e){function o(e,t){console.log(t)}function n(e,t,o){}function a(e,t){}function i(e,t){console.log("----------------------------orderinfo   "+t.data.data.appKey),console.log(t.data.data)}function s(e,t,o){}function c(t,o){o&&r(t,o).then((function(t){console.log("==laikePayMain=23=");e.hideLoading()}))}function r(t,o){var n={access_id:t.access_id,title:"",module:"app",action:"pay",type:"app_wechat",type_:"KJ",total:t.price1,bargain_order_no:t.order_no,remarks:t.remarks};if(t.sNo||t.order_list){console.log("sNo."+t.sNo),console.log("order_list."+t.order_list),t.sNo?n.sNo=t.sNo:t.order_list&&(n.order_list=t.order_list),n.total<.01&&(n.total=.01),"jp"==t.pay_name?n.title=t.jp_name:n.title=t.payTitle?t.payTitle:"支付信息","wx"==o?n.type="app_wechat":"ali"==o&&(n.type="alipay");var a=t.LaiKeTuiCommon.getMPAliAuthCode();return a.then((function(t){return new Promise((function(t,o){e.request({url:e.getStorageSync("url"),data:n,header:{"content-type":"application/x-www-form-urlencoded"},success:function(e){200==e.statusCode&&t(e)},error:function(e){console.log(e)},fail:function(e){console.log(e)}})}))}))}console.log("没有订单编号.")}function u(t){e.showToast({title:"充值失败！",duration:1e3,icon:"none"}),setTimeout((function(){t.modalName=null,t.autoplay=t.swiper_dots=!0}),1e3)}function l(t){1==t.fromVip?u(t):(console.log("-------laikePayFail------"),e.showModal({title:"提示",content:"支付失败,查看订单详情",success:function(o){t.firstFlag=!0,t.$store.state.payRes=t.order_list,o.confirm?e.redirectTo({url:"../../pages/order/myOrder"}):o.cancel&&e.switchTab({url:"../tabBar/home"})}}))}function d(t){var o=window.location.href,n=e.getStorageSync("access_id"),a={type:"jsapi_wechat",access_id:n,app:"get_config",module:"app",action:"commcenter",url:o};e.request({data:a,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(o){if(200==o.data.code){var n=o.data.data.config.appid;t.myappid=n;var a=o.data.data.url,i="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+n+"&redirect_uri="+a+"&response_type=code&scope=snsapi_base&state=STATE#wechat_redirect";window.location.href=i}else e.showToast({title:o.data.message,duration:1500,icon:"none"})},error:function(e){console.log(e)}})}function f(t){t.loading=!0,e.login({provider:"weixin",success:function(o){var n;n="jp"==t.pay_name?{code:o.code,order_list:t.order_list,title:t.jp_name,type:"mini_wechat",access_id:t.access_id,total:t.jp_zong,module:"app",action:"pay",remarks:t.remarks}:"DJ"==t.pay_name?{code:o.code,sNo:t.sNo,title:t.title,type:"mini_wechat",access_id:t.access_id,total:t.total,module:"app",action:"pay",remarks:t.remarks}:t.bargain?{code:o.code,order_list:t.order_list,title:t.pro[0].list[0].product_title,type:"mini_wechat",type_:"KJ",access_id:t.access_id,total:t.price1,module:"app",action:"pay",remarks:t.remarks}:{code:o.code,order_list:t.order_list,title:t.pro[0].list[0].product_title,type:"mini_wechat",access_id:t.access_id,total:t.price1,module:"app",action:"pay",remarks:t.remarks},e.request({url:e.getStorageSync("url"),data:n,success:function(o){if(e.hideLoading(),200===o.statusCode&&200==o.statusCode){var n=o.data;e.requestPayment({provider:"wxpay",timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:"MD5",paySign:n.paySign,success:function(o){e.showToast({title:"支付成功！",duration:1e3,icon:"none"}),"DJ"==t.pay_name?(e.removeStorage("tui_id"),setTimeout((function(){e.redirectTo({url:"../../pagesA/vipClub/vipClub"}),t.pay_display=!1}),1e3)):setTimeout((function(){e.setStorageSync("payRes",t.order_list),e.redirectTo({url:"payResult"}),t.pay_display=!1}),1e3)},fail:function(e){"DJ"==t.pay_name?t._payFail():l(t)},complete:function(){t.loading=!1}})}},fail:function(o){t.loading=!1,e.hideLoading()}})},fail:function(o){t.loading=!1,e.hideLoading()}})}function p(t){if(t.fastTap)if(t.fastTap=!1,t.enterless)if(e.showLoading({title:"支付中...",mask:!0}),6==t.msg.length){var o={module:"app",action:"user",app:"payment_password",access_id:t.access_id,password:t.msg,endTime:""};e.request({data:o,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(o){var n=o.data,a=n.code,i=(n.message,n.enterless);200==a?(t.pay_display=!1,t.fastTap=!0,t._payAxios()):i?(e.hideLoading(),t.msg="",e.showToast({title:"您输入密码错误,请重新输入",duration:1e3,icon:"none"}),t.enterless=i,t.fastTap=!0):i||(e.hideLoading(),e.showToast({title:"你输入的错误次数已达当日上限，请使用其它支付方式进行付款",duration:1e3,icon:"none"}),t.pay_display=!1,t.enterless=!1,t.fastTap=!0)},error:function(o){e.hideLoading(),e.showToast({title:"网络错误，请稍后再试",duration:1e3,icon:"none"}),t.pay_display=!1,t.fastTap=!0}})}else e.hideLoading(),t.fastTap=!0,e.showToast({title:"请输入完整密码！",duration:1e3,icon:"none"});else t.fastTap=!0,e.showToast({title:"你输入的错误次数已达当日上限，请使用其它支付方式进行付款",duration:1e3,icon:"none"}),t.pay_display=!1;else console.log("exit")}function g(e){e.pay_display=!1,e.msg="",e.firstFlag=!0,l(e)}function _(t,o){if(t.fastTap){t.fastTap=!1;var n={module:"app",action:"pay",app:"wallet_pay",m:"wallet_pay",type:"wallet_pay",access_id:t.access_id,address_id:t.address_id?t.address_id:t.addre_id,order_list:t.order_list,remarks:t.remarks};t.bargain&&(n.order_no=t.order_no,n.type_="KJ"),"jp"==t.pay_name?n.payment_money=t.jp_zong:"MS"==t.otype?(n.activity_id=t.activity_id,n.time_id=t.time_id,n.payment_money=t.value):n.payment_money=t.value,e.request({data:n,url:e.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(o){t.fastTap=!0;var n=o.data,a=n.code,i=n.message;if(console.log(i+"------------wallet_pay--------"+a),console.log(o),200==a)if(Number(t.price1)>0)console.log("-me.price1-------------"+t.price1),f(t);else{e.hideLoading();var s=t.order_id?t.order_id:t.or_id;e.showToast({title:"支付成功！",duration:1e3,icon:"none"}),setTimeout((function(){"jp"==t.pay_name?e.redirectTo({url:"payResult?payment_money="+t.jp_zong+"&sNo="+t.sNo+"&order_id="+s}):(e.setStorageSync("payRes",t.order_list),e.redirectTo({url:"payResult"})),t.pay_display=!1}),1e3)}else 112==a?(e.hideLoading(),t.pay_display=!1,t.msg="",t.firstFlag=!0,e.showModal({title:"提示",content:"支付失败,订单已生成，可以在订单列表中查看",showCancel:!1,success:function(t){t.confirm&&e.redirectTo({url:"../order/myOrder"})}})):(e.hideLoading(),t.pay_display=!1,t.msg="",e.showModal({title:"提示",content:"网络繁忙，支付失败  订单已生成，可以在订单列表中查看",showCancel:!1,success:function(o){t.firstFlag=!0,o.confirm&&e.switchTab({url:"../tabBar/home"})}}))},error:function(e){t.fastTap=!0},fail:function(e){}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var y={alipay_minipay:o,weixin_jsapipay:n,app_pay:s,laikePayMain:c,laikePayFail:l,toUrl:d,weixin_minipay:f,laike_walletpay_cancel:g,laike_walletpay_ok:p,laike_walletpay:_,getOrderInfo:r,tt_pay:a,baidu_pay:i};t.default=y}).call(this,o("543d")["default"])},"1a48":function(e,t,o){"use strict";o.r(t);var n=o("54e8"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},"1d23":function(e,t,o){"use strict";o.r(t);var n=o("de7b");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);var i,s,c,r,u=o("f0c5"),l=Object(u["a"])(n["default"],i,s,!1,null,null,null,!1,c,r);t["default"]=l.exports},2886:function(e,t,o){"use strict";o.r(t);var n=o("ce0f"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},"308e":function(e,t,o){"use strict";(function(e){function o(t,o,n,a){var i=null;e.login({success:function(s){i=s.code;var c={bd_auth_code:i,module:"app",action:"login",app:"bdUserLogin",access_id:o.access_id};o.$req.post({data:c}).then((function(i){var s=i.code;if(200==s){var c=i.userInfo;null!=t&&(t.showWin=!1);var r=c.access_id;e.setStorageSync("bd_id",c["bd_id"]),o.access_id=r,o.$store.state.access_id=r,e.setStorageSync("userinfo",c),e.setStorageSync("LoingByHand",!1),e.setStorageSync("access_id",r),e.setStorageSync("laiketuiAccessId",o.access_id),e.setStorageSync("online",!0),o.changeLoginStatus&&o.changeLoginStatus(),n&&a?n(a):n&&n()}else if(203==s){null!=t&&(t.showWin=!0);var u=i.bd_id;u&&e.setStorageSync("bd_id",u)}else e.showToast({title:i.msg,duration:1e3}),null!=t&&(t.showWin=!1)}))}})}function n(t){e.getUserInfo({success:function(o){var n=[];if(o.userInfo){n=o.userInfo;var a=o.userInfo.nickName;if("百度网友"==a)return t.showWin=!1,void e.showToast({title:"授权拒绝",duration:1e3})}e.login({success:function(o){if(o.code){var a=e.getStorageSync("bd_id"),i={bd_auth_code:o.code,module:"app",action:"login",app:"updateBDUser",access_id:t.access_id,nickName:n.nickName,headimgurl:n.avatarUrl,sex:n.gender,bd_id:a};t.$req.post({data:i}).then((function(o){var n=o.code;o.msg;if(200===n){var a=o.userInfo;t.showWin=!1;var i=a.access_id;e.setStorageSync("bd_id",a["bd_id"]),t.access_id=i,t.$store.state.access_id=i,e.setStorageSync("userinfo",a),e.setStorageSync("LoingByHand",!1),e.setStorageSync("access_id",i),e.setStorageSync("laiketuiAccessId",t.access_id),e.setStorageSync("online",!0),t.$emit("pChangeLoginStatus"),e.showToast({title:"授权成功",duration:1e3})}else e.showToast({title:"授权失败",duration:1e3}),t.showWin=!1})).catch((function(e){t.showWin=!1}))}else t.showWin=!1}})},fail:function(o){t.showWin=!1;var n=e.getStorageSync("bd_first");if(n)e.openSetting();else e.setStorageSync("bd_first",!0)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={laiketui_mp_baidu_check:o,laiketui_mp_baidu_userInfo:n};t.default=a}).call(this,o("543d")["default"])},3319:function(e,t,o){"use strict";o.r(t);var n=o("1a48");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);var i,s,c,r,u=o("f0c5"),l=Object(u["a"])(n["default"],i,s,!1,null,null,null,!1,c,r);t["default"]=l.exports},"44e1":function(e,t,o){"use strict";o.r(t);var n=o("150b"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},"54e8":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o("2a0a"),a=1,i="https://shop.biushu.com",s=i+"/",c=i+"/index.php?store_id="+a+"&",r=i+"/h5/#/",u=i+"/";function l(){}function d(t,o){var n=t;n.$store.state.access_id=e.getStorageSync("laiketuiAccessId")?e.getStorageSync("laiketuiAccessId"):e.getStorageSync("access_id");var a=n.$store.state.access_id;void 0==a&&(a="");var i={module:"app",action:"login",app:"token",access_id:a};e.request({url:c,data:i,success:function(t){if(404==t.data.code){if(e.showToast({title:"未登录，请先登陆",duration:1e3,icon:"none"}),"cmmc"==n.$store.state.channel)return void n.$loginFrom.login(n);var a=o;setTimeout((function(){e.navigateTo({url:a})}),1e3)}else n.changeLoginStatus()}})}function f(t){var o={module:"app",action:"message",app:"getWXTemplates",access_id:t.access_id,store_type:1};t.$req.post({data:o}).then((function(e){var o=e.data,n=e.code;console.log("模板结果。。"),console.log(e),200==n?t.tmplIds=o:console.log("获取微信小程序订阅模板失败")})).catch((function(t){console.log("================>>"),console.log(res),e.showToast({title:"获取失败",duration:1e3,icon:"none"})}))}function p(t){var o=t;return new Promise((function(n,a){var i=e.getStorageSync("access_id")?e.getStorageSync("access_id"):t.$store.state.access_id;o.$store.state.access_id=i;var s=o.$store.state.access_id,c={module:"app",action:"login",app:"token",access_id:s};e.request({url:o.$store.state.url,data:c,success:function(t){var a=t.data.code;console.log("获取登录的token："),console.log(JSON.stringify(t)),200==a?(o.$store.state.access_id=s,o.access_id=o.$store.state.access_id,e.setStorageSync("laiketuiAccessId",o.access_id),e.setStorageSync("online",!0)):(o.$store.state.access_id="",o.access_id="",e.setStorageSync("laiketuiAccessId",""),e.setStorageSync("online",!1)),n(o)},fail:function(e){a(e)}})}))}function g(){return new Promise((function(e,t){m().then((function(e){return y(e)})).then((function(){e("")})),(0,n.getLaiketuiNoRegisterLoginInfo)(1)}))}function _(t){var o=e.getStorageSync("userinfo")||[];o["openid"]&&t.$refs.lktAuthorizeComp.closeWin()}function y(t){var o=c,n=r,a=u;return new Promise((function(i,s){var c={module:"app",action:"url",app:"geturl",get:"mini_url,H5,endurl"};e.request({data:c,url:t,header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){200==t.data.code&&(o=t.data.url.mini_url,n=t.data.url.H5,a=t.data.url.endurl),o+="&store_type=1",e.setStorageSync("url",o),e.setStorageSync("h5_url",n),e.setStorageSync("endurl",a),i("")}})}))}function m(){return new Promise((function(t,o){e.getExtConfig({success:function(o){var a="";a=o.extConfig.url?o.extConfig.url:c,a+="store_type=1",e.setStorageSync("url",a),(0,n.getLaiketuiNoRegisterLoginInfo)(1),t(a)},error:function(e){console.log(e,2),o(e)}})}))}function h(){var e=plus.push.getClientInfo();return e.clientid}function S(e,t,o){var n=e,a=n.clicktimes.length,i=(new Date).getTime(),s=a>0?n.clicktimes[a-1]:i;n.clicktimes.push(i),a=n.clicktimes.length,(1==a||i-s>=1e3)&&(o?t(o):t()),a>=3&&n.clicktimes.shift()}function v(e){setTimeout((function(){e.fastTap||(e.fastTap=!0),e.isClick&&(e.isClick=!1),e.signFinish||(e.signFinish=!0)}),1500)}function w(t){var o=t,n=e.getStorageSync("access_id")?e.getStorageSync("access_id"):o.$store.state.access_id,a={module:"app",action:"login",app:"token",access_id:n};return new Promise((function(t,i){e.request({url:o.$store.state.url,data:a,success:function(a){var i=a.data.code;if(console.log("laikeLoginTimeout："),console.log(JSON.stringify(a)),200==i&&1==a.data.login_status)o.$store.state.access_id=n,o.access_id=o.$store.state.access_id,e.setStorageSync("laiketuiAccessId",o.access_id),e.setStorageSync("online",!0),t(o);else if(200==i&&0==a.data.login_status)console.log(o.$store.state.channel),t({visitor:!0});else if(404==i)if(o._back1&&(o._back1,1))"function"!=typeof o._back1&&"FUNCTION"!=typeof o._back1||o._back1();else{if(e.showToast({title:"未登录，请先登录",icon:"none",duration:1500}),console.log(o.$store.state.channel),"cmmc"==o.$store.state.channel)return void o.$loginFrom.login(o);setTimeout((function(){e.navigateTo({url:"../../pages/login/login?toHome=true"})}),1e3)}else if(o.$store.state.access_id="",o.access_id="",e.setStorageSync("laiketuiAccessId",""),e.setStorageSync("online",!1),e.removeStorage({key:"history"}),e.removeStorage({key:"user_phone"}),e.removeStorage({key:"hotStatu"}),e.removeStorage({key:"access_id"}),o.$store.state.cart=[],o.$store.state.cart_id=[],o.$store.state.nCart=[],o.timeout&&(o.timeout,1))"function"!=typeof o.timeout&&"FUNCTION"!=typeof o.timeout||o.timeout();else{if(e.showToast({title:"未登录，请先登录",icon:"none",duration:1500}),console.log(this.$store.state.channel),"cmmc"==o.$store.state.channel)return void o.$loginFrom.login(o);setTimeout((function(){e.navigateTo({url:"../../pages/login/login?toHome=true"})}),1e3)}},fail:function(e){i(e)}})}))}function T(){if(e.showToast({title:"未登录，请先登录!",icon:"none",duration:1500}),"cmmc"==this.$store.state.channel)return console.log(this.$store.state),void this.$loginFrom.login(this);setTimeout((function(){e.navigateTo({url:"../../pages/login/login"})}),1e3)}function b(){return new Promise((function(e){e("")}))}function k(e){var t=g();return!e||"function"!=typeof e&&"FUNCTION"!=typeof e||t.then((function(){e()})),t}function L(){return!0}var O={RL:1,NRL:2},$={LKT_STORE_ID:a,LKT_ROOT_VERSION_URL:s,LKT_ROOT_URL:i,LKT_API_URL:c,LKT_H5_DEFURL:r,LKT_ENDURL:u,LKT_NRL_TYPE:O,toLogin:d,getLKTAccessToken:p,getClientid:h,laiketuiNoDoublePress:S,laikeCheckTimeout:w,laikeVisitorToLogin:T,lktDelaySetVal:v,getLKTApiUrl:g,getMPAliAuthCode:b,getUrlFirst:k,getStoreType:l,ttIOSCantVisualpay:L,closeMPAuthWin:_,getWXTmplIds:f};t.default=$}).call(this,o("543d")["default"])},"71b9":function(e,t,o){"use strict";o.r(t);var n=o("ac95");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);var i,s,c,r,u=o("f0c5"),l=Object(u["a"])(n["default"],i,s,!1,null,null,null,!1,c,r);t["default"]=l.exports},7370:function(e,t,o){"use strict";(function(e){function o(t,o){var n=o,a=t.detail.userInfo;n.access_id=e.getStorageSync("access_id")?e.getStorageSync("access_id"):n.$store.state.access_id,a?e.login({success:function(t){if(t.code){var o={nickName:a.nickName,headimgurl:a.avatarUrl,sex:a.gender,code:t.code,module:"app",action:"login",app:"user",access_id:n.access_id,store_type:1};n.$req.post({data:o}).then((function(t){n.showWin=!1;t.access_id;var o={};o["openid"]=t.openid,o["session_key"]=t.session_key,o["user"]=t.user,n.access_id=t.access_id,n.$store.state.access_id=t.access_id,e.setStorageSync("userinfo",o),n.access_id1=!0,e.setStorageSync("LoingByHand",!1),e.setStorageSync("laiketuiAccessId",n.access_id),e.setStorageSync("online",!0),n.$emit("pChangeLoginStatus"),e.showToast({title:"授权成功",duration:1e3,icon:"none"})}))}else console.log("授权失败"),n.showWin=!1,e.showToast({title:"授权失败",duration:1e3,icon:"none"})}}):(console.log("点击了拒绝授权"),n.showWin=!1)}function n(t,o,n){return new Promise((function(a,i){e.login({success:function(a){if(a.code){var i={code:a.code,module:"app",action:"login",app:"user",access_id:t.access_id,store_type:1};t.$req.post({data:i}).then((function(a){t.showWin=!1;a.access_id;var i={};i["openid"]=a.openid,i["session_key"]=a.session_key,i["user"]=a.user,t.access_id=a.access_id,t.$store.state.access_id=a.access_id,console.log(t.access_id),e.setStorageSync("userinfo",i),t.access_id1=!0,e.setStorageSync("LoingByHand",!1),e.setStorageSync("laiketuiAccessId",t.access_id),e.setStorageSync("online",!0),t.$emit("pChangeLoginStatus"),o&&n?o(n):o&&o()}))}else t.showWin=!1,e.showToast({title:"重新登陆失败",duration:1e3,icon:"none"})}})}))}function a(t,o,a){var s=t,c=(e.getStorageSync("access_id")?e.getStorageSync("access_id"):s.$store.state.access_id,new Promise((function(t,c){var r=e.getStorageSync("userinfo")||[];r["openid"]?i(s,r["openid"]).then((function(e){t(e)})):n(s,o,a)})));c.then((function(t){var n=e.getStorageSync("userinfo")||[];n.user.headimgurl;s.$store.state.access_id=t,e.setStorageSync("access_id",t),s.access_id=s.$store.state.access_id,s.login_status=1,o&&a?o(a):o&&!a&&o()}))}function i(t,o){var n={module:"app",action:"login",app:"login_access",openid:o,store_type:1};return new Promise((function(o,a){e.request({url:t.$store.state.url,data:n,success:function(t){var n=t.data.code,a=t.data.access_id;if(console.log("laikeLoginTimeout："),console.log(JSON.stringify(t)),200==n&&a)o(a);else{var i=t.data.message||"登陆异常，请联系管理员！";e.showToast({title:i,icon:"none",duration:1500})}}})}))}function s(t,o,n,i){var s=t,c=o;e.checkSession({success:function(e){console.log(e,"登录未过期"),s.showWin=!1,a(c,n,i)},fail:function(e){console.log(e,"登录过期了"),s.showWin=!0}})}function c(t,o,n){var i=t,s=e.getStorageSync("LoingByHand"),c=e.getStorageSync("needRegister");c!=i.LaiKeTuiCommon.LKT_NRL_TYPE.NRL||s||e.checkSession({success:function(e){console.log(e,"登录未过期"),a(i,o,n)},fail:function(e){console.log(e,"登录过期了")}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={laiketui_mp_weixin_auth:o,laiketui_mp_weixin_load:a,laiketui_mp_weixin_checksession:s,laiketui_mp_weixin_checkauth:c};t.default=r}).call(this,o("543d")["default"])},7865:function(e,t,o){"use strict";var n=o("7a4e"),a=o.n(n);a.a},"7a3a":function(e,t,o){"use strict";(function(e){function o(t,o,n,a){my.getAuthCode({success:function(i){var s={alimp_auth_code:i.authCode,module:"app",action:"login",app:"mpaliUserLogin",access_id:o.access_id,store_type:1};o.$req.post({data:s}).then((function(i){var s=i.code,c=i.msg;if(200==s){var r=i.userInfo;null!=t&&(t.showWin=!1);var u=r.access_id;e.setStorageSync("zfb_id",r["zfb_id"]),o.access_id=u,o.$store.state.access_id=u,e.setStorageSync("userinfo",r),e.setStorageSync("access_id",u),e.setStorageSync("laiketuiAccessId",o.access_id),e.setStorageSync("online",!0),o.changeLoginStatus&&o.changeLoginStatus(),n&&a?n(a):n&&n()}else if(203==s){null!=t&&(t.showWin=!0);var l=i.zfb_id;l&&e.setStorageSync("zfb_id",l)}else null!=t&&(t.showWin=!1),my.showToast({type:"fail",content:c,duration:1e3})})).catch((function(e){console.log(e),my.showToast({type:"fail",content:"操作失败111",duration:1e3})}))}})}function n(t,o){my.getOpenUserInfo({fail:function(e){console.log(e)},success:function(t){var n=JSON.parse(t.response).response,a=e.getStorageSync("zfb_id"),i={alimp_auth_code:t.authCode,module:"app",action:"login",app:"updateAliUser",access_id:o.access_id,store_type:1,nickName:n.nickName,headimgurl:n.avatar,sex:n.gender,zfb_id:a};o.$req.post({data:i}).then((function(t){var n=t.code;if(200==n){o.showWin=!1;var a=t.userInfo,i=a.access_id;e.setStorageSync("zfb_id",a["zfb_id"]),o.access_id=i,o.$store.state.access_id=i,console.log("==授权后=="),console.log(o.access_id),e.setStorageSync("userinfo",a),e.setStorageSync("access_id",i),e.setStorageSync("LoingByHand",!1),e.setStorageSync("laiketuiAccessId",o.access_id),e.setStorageSync("online",!0),o.$emit("pChangeLoginStatus"),my.showToast({type:"Success",content:"授权成功",duration:1e3})}else my.showToast({type:"fail",content:"操作失败",duration:1e3}),console.log("授权失败:"),console.log(t)})).catch((function(e){o.showWin=!1}))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={laiketui_mp_alipay_check:o,laiketui_mp_alipay_userInfo:n};t.default=a}).call(this,o("543d")["default"])},"7a4e":function(e,t,o){},"7c9a":function(e,t,o){"use strict";o.r(t);var n=o("02d9");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);var i,s,c,r,u=o("f0c5"),l=Object(u["a"])(n["default"],i,s,!1,null,null,null,!1,c,r);t["default"]=l.exports},"8e09":function(e,t,o){"use strict";(function(e){o("a1f9");var t=d(o("66fd")),n=d(o("051c")),a=d(o("a4a4")),i=d(o("3319")),s=d(o("1d23")),c=d(o("71b9")),r=d(o("90af")),u=d(o("7c9a")),l=d(o("e9c8"));d(o("9d0b"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function p(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){g(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function g(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var _=function(){o.e("components/lktauthorize").then(function(){return resolve(o("cc2e"))}.bind(null,o)).catch(o.oe)};t.default.config.productionTip=!1,n.default.mpType="app",t.default.prototype.$store=a.default,t.default.prototype.LaiKeTuiCommon=i.default,t.default.prototype.laikepay=l.default,t.default.prototype.LaiketuiWeixinAuth=s.default,t.default.component("lktauthorize",_),t.default.prototype.LaiketuiAliAuth=c.default,t.default.prototype.LaiketuiTTAuth=r.default,t.default.prototype.LaiketuiBDAuth=u.default,t.default.mixin({onLoad:function(e){}});var y=new t.default(p({},n.default,{store:a.default}));e(y).$mount()}).call(this,o("543d")["createApp"])},"90af":function(e,t,o){"use strict";o.r(t);var n=o("2886");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);var i,s,c,r,u=o("f0c5"),l=Object(u["a"])(n["default"],i,s,!1,null,null,null,!1,c,r);t["default"]=l.exports},ac95:function(e,t,o){"use strict";o.r(t);var n=o("7a3a"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},ce0f:function(e,t,o){"use strict";(function(e){function o(t,o,n,a){var i=null;e.login({success:function(s){i=s.code;var c={tt_auth_code:i,module:"app",action:"login",app:"ttUserLogin",access_id:o.access_id};o.$req.post({data:c}).then((function(i){var s=i.code;if(200==s){var c=i.userInfo;null!=t&&(t.showWin=!1);var r=c.access_id;e.setStorageSync("tt_id",c["tt_id"]),o.access_id=r,o.$store.state.access_id=r,e.setStorageSync("userinfo",c),e.setStorageSync("LoingByHand",!1),e.setStorageSync("access_id",r),e.setStorageSync("laiketuiAccessId",o.access_id),e.setStorageSync("online",!0),o.changeLoginStatus&&o.changeLoginStatus(),n&&a?n(a):n&&n()}else if(203==s){null!=t&&(t.showWin=!0);var u=i.tt_id;u&&e.setStorageSync("tt_id",u)}else tt.showToast({title:"授权出错",duration:1e3}),null!=t&&(t.showWin=!1)}))}})}function n(e){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={laiketui_mp_tt_check:o,laiketui_mp_tt_userInfo:n};t.default=a}).call(this,o("543d")["default"])},de7b:function(e,t,o){"use strict";o.r(t);var n=o("7370"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},e9c8:function(e,t,o){"use strict";o.r(t);var n=o("44e1");for(var a in n)"default"!==a&&function(e){o.d(t,e,(function(){return n[e]}))}(a);var i,s,c,r,u=o("f0c5"),l=Object(u["a"])(n["default"],i,s,!1,null,null,null,!1,c,r);t["default"]=l.exports},ebb9:function(e,t,o){"use strict";o.r(t);var n=o("0445"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a}},[["8e09","common/runtime","common/vendor"]]]);